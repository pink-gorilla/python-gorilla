;; gorilla-repl.fileformat = 2

;; @@ [meta]
{:tagline "Jupyter Notebook"}

;; @@

;; **
;;; # Getting Started
;;; 
;;; This is a tutorial for a a couple of new Clojure libraries for Machine Learning and ETL -- part of the tech.ml stack.
;;; 
;;; Author: Chris Nuernberger
;;; 
;;; Translated to [Nextjournal](https://nextjournal.com/alan/tech-dataset-getting-started): Alan Marazzi
;;; 
;;; The API is still alpha, we are putting our efforts into extending and beautifying it. Comments will be welcome!"
;;; 
;;; Reading from an excellent article on [advanced regression techniques](https://www.kaggle.com/juliencs/a-study-on-regression-applied-to-the-ames-dataset).  
;;; 
;;; The target is to predict the SalePrice column.
;; **

;; @@ [clj]
(use '[pinkgorilla.notebook.repl]) 
(pinkgorilla.notebook.repl/add-dependencies 
  '[[net.mikera/core.matrix "0.62.0"]
    [techascent/tech.ml.dataset "2.0-beta-30"]    
    [techascent/tech.ml "2.0-beta-20"]
    [org.pinkgorilla/tech.viz "0.5.5"]])

(require '[clojure.core.matrix :as m])

(require '[tech.libs.smile.utils :as smile-utils])

(require '[tech.ml.dataset.pipeline
           ;;We use col a lot, and int map is similar
           :refer [col]
           :as dsp])
(require '[tech.ml.dataset.pipeline.column-filters :as cf])
(require '[tech.v2.datatype :as dtype])
(require '[tech.v2.datatype.functional :as dfn])
(require '[tech.ml.dataset :as ds])
(require '[tech.ml.dataset.column :as ds-col])
(require '[tech.ml :as ml])
(require '[tech.ml.loss :as loss])
(require '[tech.ml.utils :as ml-utils])
(require '[tech.ml.regression :as ml-regression])

;;use tablesaw as dataset backing store
;(require '[tech.libs.tablesaw :as tablesaw])

;;model generators
(require '[tech.libs.xgboost])
(require '[tech.libs.smile.regression])

;;put/get nippy
(require '[tech.io :as io])
(require '[clojure.pprint :as pp])
(require '[clojure.set :as c-set])
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-nil"],"nil"],"~:value","nil"]
;; <=

;; @@ [clj]
(import '[java.io File])


(defn pp-str
  [ds]
  (with-out-str
    (pp/pprint ds)))


(defn print-table
  ([ks data]
     (->> data
          (map (fn [item-map]
                 (->> item-map
                      (map (fn [[k v]]
                             [k (if (or (float? v)
                                        (double? v))
                                  (format "%.3f" v)
                                  v)]))
                      (into {}))))
          (pp/print-table ks)))
  ([data]
   (print-table (sort (keys (first data))) data)))
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-var"],"#'user/print-table"],"~:value","#'user/print-table"]
;; <=

;; **
;;; Well, that wasn't particularly pleasant but it at least is something you can cut & paste...
;; **

;; @@ [clj]
(def src-dataset (ds/->dataset "resources/ames/train.csv"))
(dtype/shape src-dataset)
;; @@
;; =>
;;; ["^ ","~:type","~:list-like","~:open",["~:span",["^ ","~:class","clj-vector"],"["],"~:close",["^3",["^ ","^4","clj-vector"],"]"],"~:separator",["^3"," "],"~:items",["~#list",[["^ ","^0","~:html","~:content",["^3",["^ ","^4","clj-unkown"],"81"],"~:value","81"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1460"],"^;","1460"]]],"^;","[81 1460]"]
;; <=

;; @@ [clj]
(ds/descriptive-stats src-dataset)
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-unkown"],"resources/ames/train.csv: descriptive-stats [81 10]:\n\n|     :col-name | :datatype | :n-valid | :n-missing |   :mean |   :mode |  :min |  :max | :standard-deviation |  :skew |\n|---------------+-----------+----------+------------+---------+---------+-------+-------+---------------------+--------|\n|      1stFlrSF |    :int16 |     1460 |          0 |    1163 |         | 334.0 |  4692 |               386.6 |  1.377 |\n|      2ndFlrSF |    :int16 |     1460 |          0 |   347.0 |         | 0.000 |  2065 |               436.5 | 0.8130 |\n|     3SsnPorch |    :int16 |     1460 |          0 |   3.410 |         | 0.000 | 508.0 |               29.32 |  10.30 |\n|         Alley |   :string |       91 |       1369 |     NAN |    Grvl |   NAN |   NAN |                 NAN |    NAN |\n|  BedroomAbvGr |    :int16 |     1460 |          0 |   2.866 |         | 0.000 | 8.000 |              0.8158 | 0.2118 |\n|      BldgType |   :string |     1460 |          0 |     NAN |    1Fam |   NAN |   NAN |                 NAN |    NAN |\n|      BsmtCond |   :string |     1423 |         37 |     NAN |      TA |   NAN |   NAN |                 NAN |    NAN |\n|  BsmtExposure |   :string |     1422 |         38 |     NAN |      No |   NAN |   NAN |                 NAN |    NAN |\n|    BsmtFinSF1 |    :int16 |     1460 |          0 |   443.6 |         | 0.000 |  5644 |               456.1 |  1.686 |\n|    BsmtFinSF2 |    :int16 |     1460 |          0 |   46.55 |         | 0.000 |  1474 |               161.3 |  4.255 |\n|  BsmtFinType1 |   :string |     1423 |         37 |     NAN |     Unf |   NAN |   NAN |                 NAN |    NAN |\n|  BsmtFinType2 |   :string |     1422 |         38 |     NAN |     Unf |   NAN |   NAN |                 NAN |    NAN |\n|  BsmtFullBath |    :int16 |     1460 |          0 |  0.4253 |         | 0.000 | 3.000 |              0.5189 | 0.5961 |\n|  BsmtHalfBath |    :int16 |     1460 |          0 | 0.05753 |         | 0.000 | 2.000 |              0.2388 |  4.103 |\n|      BsmtQual |   :string |     1423 |         37 |     NAN |      TA |   NAN |   NAN |                 NAN |    NAN |\n|     BsmtUnfSF |    :int16 |     1460 |          0 |   567.2 |         | 0.000 |  2336 |               441.9 | 0.9203 |\n|    CentralAir |  :boolean |     1460 |          0 |     NAN |    true |   NAN |   NAN |                 NAN |    NAN |\n|    Condition1 |   :string |     1460 |          0 |     NAN |    Norm |   NAN |   NAN |                 NAN |    NAN |\n|    Condition2 |   :string |     1460 |          0 |     NAN |    Norm |   NAN |   NAN |                 NAN |    NAN |\n|    Electrical |   :string |     1459 |          1 |     NAN |   SBrkr |   NAN |   NAN |                 NAN |    NAN |\n| EnclosedPorch |    :int16 |     1460 |          0 |   21.95 |         | 0.000 | 552.0 |               61.12 |  3.090 |\n|     ExterCond |   :string |     1460 |          0 |     NAN |      TA |   NAN |   NAN |                 NAN |    NAN |\n|     ExterQual |   :string |     1460 |          0 |     NAN |      TA |   NAN |   NAN |                 NAN |    NAN |\n|   Exterior1st |   :string |     1460 |          0 |     NAN | VinylSd |   NAN |   NAN |                 NAN |    NAN |\n|   Exterior2nd |   :string |     1460 |          0 |     NAN | VinylSd |   NAN |   NAN |                 NAN |    NAN |\n"],"~:value","resources/ames/train.csv: descriptive-stats [81 10]:\n\n|     :col-name | :datatype | :n-valid | :n-missing |   :mean |   :mode |  :min |  :max | :standard-deviation |  :skew |\n|---------------+-----------+----------+------------+---------+---------+-------+-------+---------------------+--------|\n|      1stFlrSF |    :int16 |     1460 |          0 |    1163 |         | 334.0 |  4692 |               386.6 |  1.377 |\n|      2ndFlrSF |    :int16 |     1460 |          0 |   347.0 |         | 0.000 |  2065 |               436.5 | 0.8130 |\n|     3SsnPorch |    :int16 |     1460 |          0 |   3.410 |         | 0.000 | 508.0 |               29.32 |  10.30 |\n|         Alley |   :string |       91 |       1369 |     NAN |    Grvl |   NAN |   NAN |                 NAN |    NAN |\n|  BedroomAbvGr |    :int16 |     1460 |          0 |   2.866 |         | 0.000 | 8.000 |              0.8158 | 0.2118 |\n|      BldgType |   :string |     1460 |          0 |     NAN |    1Fam |   NAN |   NAN |                 NAN |    NAN |\n|      BsmtCond |   :string |     1423 |         37 |     NAN |      TA |   NAN |   NAN |                 NAN |    NAN |\n|  BsmtExposure |   :string |     1422 |         38 |     NAN |      No |   NAN |   NAN |                 NAN |    NAN |\n|    BsmtFinSF1 |    :int16 |     1460 |          0 |   443.6 |         | 0.000 |  5644 |               456.1 |  1.686 |\n|    BsmtFinSF2 |    :int16 |     1460 |          0 |   46.55 |         | 0.000 |  1474 |               161.3 |  4.255 |\n|  BsmtFinType1 |   :string |     1423 |         37 |     NAN |     Unf |   NAN |   NAN |                 NAN |    NAN |\n|  BsmtFinType2 |   :string |     1422 |         38 |     NAN |     Unf |   NAN |   NAN |                 NAN |    NAN |\n|  BsmtFullBath |    :int16 |     1460 |          0 |  0.4253 |         | 0.000 | 3.000 |              0.5189 | 0.5961 |\n|  BsmtHalfBath |    :int16 |     1460 |          0 | 0.05753 |         | 0.000 | 2.000 |              0.2388 |  4.103 |\n|      BsmtQual |   :string |     1423 |         37 |     NAN |      TA |   NAN |   NAN |                 NAN |    NAN |\n|     BsmtUnfSF |    :int16 |     1460 |          0 |   567.2 |         | 0.000 |  2336 |               441.9 | 0.9203 |\n|    CentralAir |  :boolean |     1460 |          0 |     NAN |    true |   NAN |   NAN |                 NAN |    NAN |\n|    Condition1 |   :string |     1460 |          0 |     NAN |    Norm |   NAN |   NAN |                 NAN |    NAN |\n|    Condition2 |   :string |     1460 |          0 |     NAN |    Norm |   NAN |   NAN |                 NAN |    NAN |\n|    Electrical |   :string |     1459 |          1 |     NAN |   SBrkr |   NAN |   NAN |                 NAN |    NAN |\n| EnclosedPorch |    :int16 |     1460 |          0 |   21.95 |         | 0.000 | 552.0 |               61.12 |  3.090 |\n|     ExterCond |   :string |     1460 |          0 |     NAN |      TA |   NAN |   NAN |                 NAN |    NAN |\n|     ExterQual |   :string |     1460 |          0 |     NAN |      TA |   NAN |   NAN |                 NAN |    NAN |\n|   Exterior1st |   :string |     1460 |          0 |     NAN | VinylSd |   NAN |   NAN |                 NAN |    NAN |\n|   Exterior2nd |   :string |     1460 |          0 |     NAN | VinylSd |   NAN |   NAN |                 NAN |    NAN |\n"]
;; <=

;; **
;;; The shape is backward as compared to pandas.  This is by intention; core.matrix is a row-major linear algebra system.  tech.ml.dataset is column-major.  Thus, to ensure sanity when doing conversions we represent the data in a normal shape.  Note that pandas returns [1460 81].
;; **

;; **
;;; ## Outliers
;;; 
;;; We first check for outliers, graph and then remove them.
;; **

;; @@ [clj]
^:R [:p/vega {:data {:values
                                (-> src-dataset
                                (ds/select-columns ["SalePrice" "GrLivArea"])
                                (ds/->flyweight))}
                     :mark :point
                     :encoding {:y {:field "SalePrice"
                                    :type :quantitative}
                                :x {:field "GrLivArea"
                                    :type :quantitative}}}]
;; @@
;; =>
;;; ["^ ","~:type","~:reagent","~:content",["^ ","~:hiccup",["~:p/vega",["^ ","~:data",["^ ","~:values",[["^ ","SalePrice",208500,"GrLivArea",1710],["^ ","^7",181500,"^8",1262],["^ ","^7",223500,"^8",1786],["^ ","^7",140000,"^8",1717],["^ ","^7",250000,"^8",2198],["^ ","^7",143000,"^8",1362],["^ ","^7",307000,"^8",1694],["^ ","^7",200000,"^8",2090],["^ ","^7",129900,"^8",1774],["^ ","^7",118000,"^8",1077],["^ ","^7",129500,"^8",1040],["^ ","^7",345000,"^8",2324],["^ ","^7",144000,"^8",912],["^ ","^7",279500,"^8",1494],["^ ","^7",157000,"^8",1253],["^ ","^7",132000,"^8",854],["^ ","^7",149000,"^8",1004],["^ ","^7",90000,"^8",1296],["^ ","^7",159000,"^8",1114],["^ ","^7",139000,"^8",1339],["^ ","^7",325300,"^8",2376],["^ ","^7",139400,"^8",1108],["^ ","^7",230000,"^8",1795],["^ ","^7",129900,"^8",1060],["^ ","^7",154000,"^8",1060],["^ ","^7",256300,"^8",1600],["^ ","^7",134800,"^8",900],["^ ","^7",306000,"^8",1704],["^ ","^7",207500,"^8",1600],["^ ","^7",68500,"^8",520],["^ ","^7",40000,"^8",1317],["^ ","^7",149350,"^8",1228],["^ ","^7",179900,"^8",1234],["^ ","^7",165500,"^8",1700],["^ ","^7",277500,"^8",1561],["^ ","^7",309000,"^8",2452],["^ ","^7",145000,"^8",1097],["^ ","^7",153000,"^8",1297],["^ ","^7",109000,"^8",1057],["^ ","^7",82000,"^8",1152],["^ ","^7",160000,"^8",1324],["^ ","^7",170000,"^8",1328],["^ ","^7",144000,"^8",884],["^ ","^7",130250,"^8",938],["^ ","^7",141000,"^8",1150],["^ ","^7",319900,"^8",1752],["^ ","^7",239686,"^8",2149],["^ ","^7",249700,"^8",1656],["^ ","^7",113000,"^8",1452],["^ ","^7",127000,"^8",955],["^ ","^7",177000,"^8",1470],["^ ","^7",114500,"^8",1176],["^ ","^7",110000,"^8",816],["^ ","^7",385000,"^8",1842],["^ ","^7",130000,"^8",1360],["^ ","^7",180500,"^8",1425],["^ ","^7",172500,"^8",1739],["^ ","^7",196500,"^8",1720],["^ ","^7",438780,"^8",2945],["^ ","^7",124900,"^8",780],["^ ","^7",158000,"^8",1158],["^ ","^7",101000,"^8",1111],["^ ","^7",202500,"^8",1370],["^ ","^7",140000,"^8",1710],["^ ","^7",219500,"^8",2034],["^ ","^7",317000,"^8",2473],["^ ","^7",180000,"^8",2207],["^ ","^7",226000,"^8",1479],["^ ","^7",80000,"^8",747],["^ ","^7",225000,"^8",2287],["^ ","^7",244000,"^8",2223],["^ ","^7",129500,"^8",845],["^ ","^7",185000,"^8",1718],["^ ","^7",144900,"^8",1086],["^ ","^7",107400,"^8",1605],["^ ","^7",91000,"^8",988],["^ ","^7",135750,"^8",952],["^ ","^7",127000,"^8",1285],["^ ","^7",136500,"^8",1768],["^ ","^7",110000,"^8",1230],["^ ","^7",193500,"^8",2142],["^ ","^7",153500,"^8",1337],["^ ","^7",245000,"^8",1563],["^ ","^7",126500,"^8",1065],["^ ","^7",168500,"^8",1474],["^ ","^7",260000,"^8",2417],["^ ","^7",174000,"^8",1560],["^ ","^7",164500,"^8",1224],["^ ","^7",85000,"^8",1526],["^ ","^7",123600,"^8",990],["^ ","^7",109900,"^8",1040],["^ ","^7",98600,"^8",1235],["^ ","^7",163500,"^8",964],["^ ","^7",133900,"^8",2291],["^ ","^7",204750,"^8",1786],["^ ","^7",185000,"^8",1470],["^ ","^7",214000,"^8",1588],["^ ","^7",94750,"^8",960],["^ ","^7",83000,"^8",835],["^ ","^7",128950,"^8",1225],["^ ","^7",205000,"^8",1610],["^ ","^7",178000,"^8",1732],["^ ","^7",118964,"^8",1535],["^ ","^7",198900,"^8",1226],["^ ","^7",169500,"^8",1818],["^ ","^7",250000,"^8",1992],["^ ","^7",100000,"^8",1047],["^ ","^7",115000,"^8",789],["^ ","^7",115000,"^8",1517],["^ ","^7",190000,"^8",1844],["^ ","^7",136900,"^8",1855],["^ ","^7",180000,"^8",1430],["^ ","^7",383970,"^8",2696],["^ ","^7",217000,"^8",2259],["^ ","^7",259500,"^8",2320],["^ ","^7",176000,"^8",1458],["^ ","^7",139000,"^8",1092],["^ ","^7",155000,"^8",1125],["^ ","^7",320000,"^8",3222],["^ ","^7",163990,"^8",1456],["^ ","^7",180000,"^8",988],["^ ","^7",100000,"^8",1123],["^ ","^7",136000,"^8",1080],["^ ","^7",153900,"^8",1199],["^ ","^7",181000,"^8",1586],["^ ","^7",84500,"^8",754],["^ ","^7",128000,"^8",958],["^ ","^7",87000,"^8",840],["^ ","^7",155000,"^8",1348],["^ ","^7",150000,"^8",1053],["^ ","^7",226000,"^8",2157],["^ ","^7",244000,"^8",2054],["^ ","^7",150750,"^8",1327],["^ ","^7",220000,"^8",1296],["^ ","^7",180000,"^8",1721],["^ ","^7",174000,"^8",1682],["^ ","^7",143000,"^8",1214],["^ ","^7",171000,"^8",1959],["^ ","^7",230000,"^8",1852],["^ ","^7",231500,"^8",1764],["^ ","^7",115000,"^8",864],["^ ","^7",260000,"^8",1734],["^ ","^7",166000,"^8",1385],["^ ","^7",204000,"^8",1501],["^ ","^7",125000,"^8",1728],["^ ","^7",130000,"^8",1709],["^ ","^7",105000,"^8",875],["^ ","^7",222500,"^8",2035],["^ ","^7",141000,"^8",1080],["^ ","^7",115000,"^8",1344],["^ ","^7",122000,"^8",969],["^ ","^7",372402,"^8",1710],["^ ","^7",190000,"^8",1993],["^ ","^7",235000,"^8",1252],["^ ","^7",125000,"^8",1200],["^ ","^7",79000,"^8",1096],["^ ","^7",109500,"^8",1040],["^ ","^7",269500,"^8",1968],["^ ","^7",254900,"^8",1947],["^ ","^7",320000,"^8",2462],["^ ","^7",162500,"^8",1232],["^ ","^7",412500,"^8",2668],["^ ","^7",220000,"^8",1541],["^ ","^7",103200,"^8",882],["^ ","^7",152000,"^8",1616],["^ ","^7",127500,"^8",1355],["^ ","^7",190000,"^8",1867],["^ ","^7",325624,"^8",2161],["^ ","^7",183500,"^8",1720],["^ ","^7",228000,"^8",1707],["^ ","^7",128500,"^8",1382],["^ ","^7",215000,"^8",1656],["^ ","^7",239000,"^8",1767],["^ ","^7",163000,"^8",1362],["^ ","^7",184000,"^8",1651],["^ ","^7",243000,"^8",2158],["^ ","^7",211000,"^8",2060],["^ ","^7",172500,"^8",1920],["^ ","^7",501837,"^8",2234],["^ ","^7",100000,"^8",968],["^ ","^7",177000,"^8",1525],["^ ","^7",200100,"^8",1802],["^ ","^7",120000,"^8",1340],["^ ","^7",200000,"^8",2082],["^ ","^7",127000,"^8",1252],["^ ","^7",475000,"^8",3608],["^ ","^7",173000,"^8",1217],["^ ","^7",135000,"^8",1656],["^ ","^7",153337,"^8",1224],["^ ","^7",286000,"^8",1593],["^ ","^7",315000,"^8",2727],["^ ","^7",184000,"^8",1479],["^ ","^7",192000,"^8",1431],["^ ","^7",130000,"^8",1709],["^ ","^7",127000,"^8",864],["^ ","^7",148500,"^8",1456],["^ ","^7",311872,"^8",1726],["^ ","^7",235000,"^8",3112],["^ ","^7",104000,"^8",2229],["^ ","^7",274900,"^8",1713],["^ ","^7",140000,"^8",1121],["^ ","^7",171500,"^8",1279],["^ ","^7",112000,"^8",1310],["^ ","^7",149000,"^8",848],["^ ","^7",110000,"^8",1284],["^ ","^7",180500,"^8",1442],["^ ","^7",143900,"^8",1696],["^ ","^7",141000,"^8",1100],["^ ","^7",277000,"^8",2062],["^ ","^7",145000,"^8",1092],["^ ","^7",98000,"^8",864],["^ ","^7",186000,"^8",1212],["^ ","^7",252678,"^8",1852],["^ ","^7",156000,"^8",990],["^ ","^7",161750,"^8",1392],["^ ","^7",134450,"^8",1236],["^ ","^7",210000,"^8",1436],["^ ","^7",107000,"^8",1328],["^ ","^7",311500,"^8",1954],["^ ","^7",167240,"^8",1248],["^ ","^7",204900,"^8",1498],["^ ","^7",200000,"^8",2267],["^ ","^7",179900,"^8",1552],["^ ","^7",97000,"^8",864],["^ ","^7",386250,"^8",2392],["^ ","^7",112000,"^8",1302],["^ ","^7",290000,"^8",2520],["^ ","^7",106000,"^8",987],["^ ","^7",125000,"^8",912],["^ ","^7",192500,"^8",1555],["^ ","^7",148000,"^8",1194],["^ ","^7",403000,"^8",2794],["^ ","^7",94500,"^8",987],["^ ","^7",128200,"^8",894],["^ ","^7",216500,"^8",1960],["^ ","^7",89500,"^8",987],["^ ","^7",185500,"^8",1414],["^ ","^7",194500,"^8",1744],["^ ","^7",318000,"^8",1694],["^ ","^7",113000,"^8",1487],["^ ","^7",262500,"^8",1566],["^ ","^7",110500,"^8",866],["^ ","^7",79000,"^8",1440],["^ ","^7",120000,"^8",1217],["^ ","^7",205000,"^8",2110],["^ ","^7",241500,"^8",1872],["^ ","^7",137000,"^8",1928],["^ ","^7",140000,"^8",1375],["^ ","^7",180000,"^8",1668],["^ ","^7",277000,"^8",2144],["^ ","^7",76500,"^8",1306],["^ ","^7",235000,"^8",1625],["^ ","^7",173000,"^8",1640],["^ ","^7",158000,"^8",1302],["^ ","^7",145000,"^8",1314],["^ ","^7",230000,"^8",2291],["^ ","^7",207500,"^8",1728],["^ ","^7",220000,"^8",1604],["^ ","^7",231500,"^8",1792],["^ ","^7",97000,"^8",882],["^ ","^7",176000,"^8",1382],["^ ","^7",276000,"^8",2574],["^ ","^7",151000,"^8",1212],["^ ","^7",130000,"^8",1316],["^ ","^7",73000,"^8",764],["^ ","^7",175500,"^8",1422],["^ ","^7",185000,"^8",1511],["^ ","^7",179500,"^8",2192],["^ ","^7",120500,"^8",778],["^ ","^7",148000,"^8",1113],["^ ","^7",266000,"^8",1939],["^ ","^7",241500,"^8",1363],["^ ","^7",290000,"^8",2270],["^ ","^7",139000,"^8",1632],["^ ","^7",124500,"^8",816],["^ ","^7",205000,"^8",1548],["^ ","^7",201000,"^8",1560],["^ ","^7",141000,"^8",864],["^ ","^7",415298,"^8",2121],["^ ","^7",192000,"^8",2022],["^ ","^7",228500,"^8",1982],["^ ","^7",185000,"^8",1262],["^ ","^7",207500,"^8",1314],["^ ","^7",244600,"^8",1468],["^ ","^7",179200,"^8",1575],["^ ","^7",164700,"^8",1250],["^ ","^7",159000,"^8",1734],["^ ","^7",88000,"^8",858],["^ ","^7",122000,"^8",900],["^ ","^7",153575,"^8",1396],["^ ","^7",233230,"^8",1919],["^ ","^7",135900,"^8",1716],["^ ","^7",131000,"^8",1716],["^ ","^7",235000,"^8",2263],["^ ","^7",167000,"^8",1644],["^ ","^7",142500,"^8",1003],["^ ","^7",152000,"^8",1558],["^ ","^7",239000,"^8",1950],["^ ","^7",175000,"^8",1743],["^ ","^7",158500,"^8",1152],["^ ","^7",157000,"^8",1336],["^ ","^7",267000,"^8",2452],["^ ","^7",205000,"^8",1541],["^ ","^7",149900,"^8",894],["^ ","^7",295000,"^8",3493],["^ ","^7",305900,"^8",2000],["^ ","^7",225000,"^8",2243],["^ ","^7",89500,"^8",1406],["^ ","^7",82500,"^8",861],["^ ","^7",360000,"^8",1944],["^ ","^7",165600,"^8",1501],["^ ","^7",132000,"^8",972],["^ ","^7",119900,"^8",1118],["^ ","^7",375000,"^8",2036],["^ ","^7",178000,"^8",1641],["^ ","^7",188500,"^8",1432],["^ ","^7",260000,"^8",2353],["^ ","^7",270000,"^8",1959],["^ ","^7",260000,"^8",2646],["^ ","^7",187500,"^8",1472],["^ ","^7",342643,"^8",2596],["^ ","^7",354000,"^8",2468],["^ ","^7",301000,"^8",2730],["^ ","^7",126175,"^8",1163],["^ ","^7",242000,"^8",2978],["^ ","^7",87000,"^8",803],["^ ","^7",324000,"^8",1719],["^ ","^7",145250,"^8",1383],["^ ","^7",214500,"^8",2134],["^ ","^7",78000,"^8",1192],["^ ","^7",119000,"^8",1728],["^ ","^7",139000,"^8",1056],["^ ","^7",284000,"^8",1629],["^ ","^7",207000,"^8",1358],["^ ","^7",192000,"^8",1638],["^ ","^7",228950,"^8",1786],["^ ","^7",377426,"^8",1922],["^ ","^7",214000,"^8",1536],["^ ","^7",202500,"^8",1621],["^ ","^7",155000,"^8",1215],["^ ","^7",202900,"^8",1908],["^ ","^7",82000,"^8",841],["^ ","^7",87500,"^8",1040],["^ ","^7",266000,"^8",1684],["^ ","^7",85000,"^8",1112],["^ ","^7",140200,"^8",1577],["^ ","^7",151500,"^8",958],["^ ","^7",157500,"^8",1478],["^ ","^7",154000,"^8",1626],["^ ","^7",437154,"^8",2728],["^ ","^7",318061,"^8",1869],["^ ","^7",190000,"^8",1453],["^ ","^7",95000,"^8",1111],["^ ","^7",105900,"^8",720],["^ ","^7",140000,"^8",1595],["^ ","^7",177500,"^8",1200],["^ ","^7",173000,"^8",1167],["^ ","^7",134000,"^8",1142],["^ ","^7",130000,"^8",1352],["^ ","^7",280000,"^8",1924],["^ ","^7",156000,"^8",912],["^ ","^7",145000,"^8",1505],["^ ","^7",198500,"^8",1922],["^ ","^7",118000,"^8",987],["^ ","^7",190000,"^8",1574],["^ ","^7",147000,"^8",1344],["^ ","^7",159000,"^8",1394],["^ ","^7",165000,"^8",1431],["^ ","^7",132000,"^8",1268],["^ ","^7",162000,"^8",1287],["^ ","^7",172400,"^8",1664],["^ ","^7",134432,"^8",1588],["^ ","^7",125000,"^8",752],["^ ","^7",123000,"^8",1319],["^ ","^7",219500,"^8",1928],["^ ","^7",61000,"^8",904],["^ ","^7",148000,"^8",914],["^ ","^7",340000,"^8",2466],["^ ","^7",394432,"^8",1856],["^ ","^7",179000,"^8",1800],["^ ","^7",127000,"^8",1691],["^ ","^7",187750,"^8",1301],["^ ","^7",213500,"^8",1797],["^ ","^7",76000,"^8",784],["^ ","^7",240000,"^8",1953],["^ ","^7",192000,"^8",1269],["^ ","^7",81000,"^8",1184],["^ ","^7",125000,"^8",1125],["^ ","^7",191000,"^8",1479],["^ ","^7",426000,"^8",2332],["^ ","^7",119000,"^8",1367],["^ ","^7",215000,"^8",1961],["^ ","^7",106500,"^8",882],["^ ","^7",100000,"^8",788],["^ ","^7",109000,"^8",1034],["^ ","^7",129000,"^8",1144],["^ ","^7",123000,"^8",894],["^ ","^7",169500,"^8",1812],["^ ","^7",67000,"^8",1077],["^ ","^7",241000,"^8",1550],["^ ","^7",245500,"^8",1288],["^ ","^7",164990,"^8",1310],["^ ","^7",108000,"^8",672],["^ ","^7",258000,"^8",2263],["^ ","^7",168000,"^8",1572],["^ ","^7",150000,"^8",1620],["^ ","^7",115000,"^8",1639],["^ ","^7",177000,"^8",1680],["^ ","^7",280000,"^8",2172],["^ ","^7",339750,"^8",2078],["^ ","^7",60000,"^8",1276],["^ ","^7",145000,"^8",1056],["^ ","^7",222000,"^8",1478],["^ ","^7",115000,"^8",1028],["^ ","^7",228000,"^8",2097],["^ ","^7",181134,"^8",1340],["^ ","^7",149500,"^8",1400],["^ ","^7",239000,"^8",2624],["^ ","^7",126000,"^8",1134],["^ ","^7",142000,"^8",1056],["^ ","^7",206300,"^8",1344],["^ ","^7",215000,"^8",1602],["^ ","^7",113000,"^8",988],["^ ","^7",315000,"^8",2630],["^ ","^7",139000,"^8",1196],["^ ","^7",135000,"^8",1389],["^ ","^7",275000,"^8",1644],["^ ","^7",109008,"^8",907],["^ ","^7",195400,"^8",1208],["^ ","^7",175000,"^8",1412],["^ ","^7",85400,"^8",987],["^ ","^7",79900,"^8",1198],["^ ","^7",122500,"^8",1365],["^ ","^7",181000,"^8",1604],["^ ","^7",81000,"^8",630],["^ ","^7",212000,"^8",1661],["^ ","^7",116000,"^8",1118],["^ ","^7",119000,"^8",904],["^ ","^7",90350,"^8",694],["^ ","^7",110000,"^8",1196],["^ ","^7",555000,"^8",2402],["^ ","^7",118000,"^8",1440],["^ ","^7",162900,"^8",1573],["^ ","^7",172500,"^8",1258],["^ ","^7",210000,"^8",1908],["^ ","^7",127500,"^8",1689],["^ ","^7",190000,"^8",1888],["^ ","^7",199900,"^8",1886],["^ ","^7",119500,"^8",1376],["^ ","^7",120000,"^8",1183],["^ ","^7",110000,"^8",813],["^ ","^7",280000,"^8",1533],["^ ","^7",204000,"^8",1756],["^ ","^7",210000,"^8",1590],["^ ","^7",188000,"^8",1728],["^ ","^7",175500,"^8",1242],["^ ","^7",98000,"^8",1344],["^ ","^7",256000,"^8",1663],["^ ","^7",161000,"^8",1666],["^ ","^7",110000,"^8",1203],["^ ","^7",263435,"^8",1935],["^ ","^7",155000,"^8",1135],["^ ","^7",62383,"^8",864],["^ ","^7",188700,"^8",1660],["^ ","^7",124000,"^8",1040],["^ ","^7",178740,"^8",1414],["^ ","^7",167000,"^8",1277],["^ ","^7",146500,"^8",1644],["^ ","^7",250000,"^8",1634],["^ ","^7",187000,"^8",1710],["^ ","^7",212000,"^8",1502],["^ ","^7",190000,"^8",1969],["^ ","^7",148000,"^8",1072],["^ ","^7",440000,"^8",1976],["^ ","^7",251000,"^8",1652],["^ ","^7",132500,"^8",970],["^ ","^7",208900,"^8",1493],["^ ","^7",380000,"^8",2643],["^ ","^7",297000,"^8",1718],["^ ","^7",89471,"^8",1131],["^ ","^7",326000,"^8",1850],["^ ","^7",374000,"^8",1792],["^ ","^7",155000,"^8",1826],["^ ","^7",164000,"^8",1216],["^ ","^7",132500,"^8",999],["^ ","^7",147000,"^8",1113],["^ ","^7",156000,"^8",1073],["^ ","^7",175000,"^8",1484],["^ ","^7",160000,"^8",2414],["^ ","^7",86000,"^8",630],["^ ","^7",115000,"^8",1304],["^ ","^7",133000,"^8",1578],["^ ","^7",172785,"^8",1456],["^ ","^7",155000,"^8",1269],["^ ","^7",91300,"^8",886],["^ ","^7",34900,"^8",720],["^ ","^7",430000,"^8",3228],["^ ","^7",184000,"^8",1820],["^ ","^7",130000,"^8",899],["^ ","^7",120000,"^8",912],["^ ","^7",113000,"^8",1218],["^ ","^7",226700,"^8",1768],["^ ","^7",140000,"^8",1214],["^ ","^7",289000,"^8",1801],["^ ","^7",147000,"^8",1322],["^ ","^7",124500,"^8",1960],["^ ","^7",215000,"^8",1911],["^ ","^7",208300,"^8",1218],["^ ","^7",161000,"^8",1378],["^ ","^7",124500,"^8",1041],["^ ","^7",164900,"^8",1363],["^ ","^7",202665,"^8",1368],["^ ","^7",129900,"^8",864],["^ ","^7",134000,"^8",1080],["^ ","^7",96500,"^8",789],["^ ","^7",402861,"^8",2020],["^ ","^7",158000,"^8",2119],["^ ","^7",265000,"^8",2344],["^ ","^7",211000,"^8",1796],["^ ","^7",234000,"^8",2080],["^ ","^7",106250,"^8",1294],["^ ","^7",150000,"^8",1244],["^ ","^7",159000,"^8",1664],["^ ","^7",184750,"^8",4676],["^ ","^7",315750,"^8",2398],["^ ","^7",176000,"^8",1266],["^ ","^7",132000,"^8",928],["^ ","^7",446261,"^8",2713],["^ ","^7",86000,"^8",605],["^ ","^7",200624,"^8",2515],["^ ","^7",175000,"^8",1509],["^ ","^7",128000,"^8",1362],["^ ","^7",107500,"^8",827],["^ ","^7",39300,"^8",334],["^ ","^7",178000,"^8",1414],["^ ","^7",107500,"^8",1347],["^ ","^7",188000,"^8",1724],["^ ","^7",111250,"^8",864],["^ ","^7",158000,"^8",1159],["^ ","^7",272000,"^8",1601],["^ ","^7",315000,"^8",1838],["^ ","^7",248000,"^8",2285],["^ ","^7",213250,"^8",1680],["^ ","^7",133000,"^8",767],["^ ","^7",179665,"^8",1496],["^ ","^7",229000,"^8",2183],["^ ","^7",210000,"^8",1635],["^ ","^7",129500,"^8",768],["^ ","^7",125000,"^8",825],["^ ","^7",263000,"^8",2094],["^ ","^7",140000,"^8",1069],["^ ","^7",112500,"^8",928],["^ ","^7",255500,"^8",1717],["^ ","^7",108000,"^8",1126],["^ ","^7",284000,"^8",2046],["^ ","^7",113000,"^8",1048],["^ ","^7",141000,"^8",1092],["^ ","^7",108000,"^8",1336],["^ ","^7",175000,"^8",1446],["^ ","^7",234000,"^8",1557],["^ ","^7",121500,"^8",1392],["^ ","^7",170000,"^8",1389],["^ ","^7",108000,"^8",996],["^ ","^7",185000,"^8",1674],["^ ","^7",268000,"^8",2295],["^ ","^7",128000,"^8",1647],["^ ","^7",325000,"^8",2504],["^ ","^7",214000,"^8",1535],["^ ","^7",316600,"^8",2132],["^ ","^7",135960,"^8",943],["^ ","^7",142600,"^8",1728],["^ ","^7",120000,"^8",864],["^ ","^7",224500,"^8",1692],["^ ","^7",170000,"^8",1430],["^ ","^7",139000,"^8",1109],["^ ","^7",118500,"^8",1216],["^ ","^7",145000,"^8",1477],["^ ","^7",164500,"^8",1320],["^ ","^7",146000,"^8",1392],["^ ","^7",131500,"^8",1795],["^ ","^7",181900,"^8",1429],["^ ","^7",253293,"^8",2042],["^ ","^7",118500,"^8",816],["^ ","^7",325000,"^8",2775],["^ ","^7",133000,"^8",1573],["^ ","^7",369900,"^8",2028],["^ ","^7",130000,"^8",838],["^ ","^7",137000,"^8",860],["^ ","^7",143000,"^8",1473],["^ ","^7",79500,"^8",935],["^ ","^7",185900,"^8",1582],["^ ","^7",451950,"^8",2296],["^ ","^7",138000,"^8",816],["^ ","^7",140000,"^8",848],["^ ","^7",110000,"^8",924],["^ ","^7",319000,"^8",1826],["^ ","^7",114504,"^8",1368],["^ ","^7",194201,"^8",1402],["^ ","^7",217500,"^8",1647],["^ ","^7",151000,"^8",1556],["^ ","^7",275000,"^8",1904],["^ ","^7",141000,"^8",1375],["^ ","^7",220000,"^8",1915],["^ ","^7",151000,"^8",1200],["^ ","^7",221000,"^8",1494],["^ ","^7",205000,"^8",1986],["^ ","^7",152000,"^8",1040],["^ ","^7",225000,"^8",2008],["^ ","^7",359100,"^8",3194],["^ ","^7",118500,"^8",1029],["^ ","^7",313000,"^8",2153],["^ ","^7",148000,"^8",1032],["^ ","^7",261500,"^8",1872],["^ ","^7",147000,"^8",1120],["^ ","^7",75500,"^8",630],["^ ","^7",137500,"^8",1054],["^ ","^7",183200,"^8",1509],["^ ","^7",105500,"^8",832],["^ ","^7",314813,"^8",1828],["^ ","^7",305000,"^8",2262],["^ ","^7",67000,"^8",864],["^ ","^7",240000,"^8",2614],["^ ","^7",135000,"^8",980],["^ ","^7",168500,"^8",1512],["^ ","^7",165150,"^8",1790],["^ ","^7",160000,"^8",1116],["^ ","^7",139900,"^8",1422],["^ ","^7",153000,"^8",1520],["^ ","^7",135000,"^8",2080],["^ ","^7",168500,"^8",1350],["^ ","^7",124000,"^8",1750],["^ ","^7",209500,"^8",1554],["^ ","^7",82500,"^8",1411],["^ ","^7",139400,"^8",1056],["^ ","^7",144000,"^8",1056],["^ ","^7",200000,"^8",3395],["^ ","^7",60000,"^8",800],["^ ","^7",93000,"^8",1387],["^ ","^7",85000,"^8",796],["^ ","^7",264561,"^8",1567],["^ ","^7",274000,"^8",1518],["^ ","^7",226000,"^8",1929],["^ ","^7",345000,"^8",2704],["^ ","^7",152000,"^8",1620],["^ ","^7",370878,"^8",1766],["^ ","^7",143250,"^8",981],["^ ","^7",98300,"^8",1048],["^ ","^7",155000,"^8",1094],["^ ","^7",155000,"^8",1839],["^ ","^7",84500,"^8",630],["^ ","^7",205950,"^8",1665],["^ ","^7",108000,"^8",1510],["^ ","^7",191000,"^8",1716],["^ ","^7",135000,"^8",1469],["^ ","^7",350000,"^8",2113],["^ ","^7",88000,"^8",1092],["^ ","^7",145500,"^8",1053],["^ ","^7",149000,"^8",1502],["^ ","^7",97500,"^8",1458],["^ ","^7",167000,"^8",1486],["^ ","^7",197900,"^8",1935],["^ ","^7",402000,"^8",2448],["^ ","^7",110000,"^8",1392],["^ ","^7",137500,"^8",1181],["^ ","^7",423000,"^8",2097],["^ ","^7",230500,"^8",1936],["^ ","^7",129000,"^8",2380],["^ ","^7",193500,"^8",1679],["^ ","^7",168000,"^8",1437],["^ ","^7",137500,"^8",1180],["^ ","^7",173500,"^8",1476],["^ ","^7",103600,"^8",1369],["^ ","^7",165000,"^8",1208],["^ ","^7",257500,"^8",1839],["^ ","^7",140000,"^8",1136],["^ ","^7",148500,"^8",1441],["^ ","^7",87000,"^8",1774],["^ ","^7",109500,"^8",792],["^ ","^7",372500,"^8",2046],["^ ","^7",128500,"^8",988],["^ ","^7",143000,"^8",923],["^ ","^7",159434,"^8",1520],["^ ","^7",173000,"^8",1291],["^ ","^7",285000,"^8",1668],["^ ","^7",221000,"^8",1839],["^ ","^7",207500,"^8",2090],["^ ","^7",227875,"^8",1761],["^ ","^7",148800,"^8",1102],["^ ","^7",392000,"^8",1419],["^ ","^7",194700,"^8",1362],["^ ","^7",141000,"^8",848],["^ ","^7",755000,"^8",4316],["^ ","^7",335000,"^8",2519],["^ ","^7",108480,"^8",1073],["^ ","^7",141500,"^8",1539],["^ ","^7",176000,"^8",1137],["^ ","^7",89000,"^8",616],["^ ","^7",123500,"^8",1148],["^ ","^7",138500,"^8",894],["^ ","^7",196000,"^8",1391],["^ ","^7",312500,"^8",1800],["^ ","^7",140000,"^8",1164],["^ ","^7",361919,"^8",2576],["^ ","^7",140000,"^8",1812],["^ ","^7",213000,"^8",1484],["^ ","^7",55000,"^8",1092],["^ ","^7",302000,"^8",1824],["^ ","^7",254000,"^8",1324],["^ ","^7",179540,"^8",1456],["^ ","^7",109900,"^8",904],["^ ","^7",52000,"^8",729],["^ ","^7",102776,"^8",1178],["^ ","^7",189000,"^8",1228],["^ ","^7",129000,"^8",960],["^ ","^7",130500,"^8",1479],["^ ","^7",165000,"^8",1350],["^ ","^7",159500,"^8",2554],["^ ","^7",157000,"^8",1178],["^ ","^7",341000,"^8",2418],["^ ","^7",128500,"^8",971],["^ ","^7",275000,"^8",1742],["^ ","^7",143000,"^8",848],["^ ","^7",124500,"^8",864],["^ ","^7",135000,"^8",1470],["^ ","^7",320000,"^8",1698],["^ ","^7",120500,"^8",864],["^ ","^7",222000,"^8",1680],["^ ","^7",194500,"^8",1232],["^ ","^7",110000,"^8",1776],["^ ","^7",103000,"^8",1208],["^ ","^7",236500,"^8",1616],["^ ","^7",187500,"^8",1146],["^ ","^7",222500,"^8",2031],["^ ","^7",131400,"^8",1144],["^ ","^7",108000,"^8",948],["^ ","^7",163000,"^8",1768],["^ ","^7",93500,"^8",1040],["^ ","^7",239900,"^8",1801],["^ ","^7",179000,"^8",1200],["^ ","^7",190000,"^8",1728],["^ ","^7",132000,"^8",1432],["^ ","^7",142000,"^8",912],["^ ","^7",179000,"^8",1349],["^ ","^7",175000,"^8",1464],["^ ","^7",180000,"^8",1337],["^ ","^7",299800,"^8",2715],["^ ","^7",236000,"^8",2256],["^ ","^7",265979,"^8",2640],["^ ","^7",260400,"^8",1720],["^ ","^7",98000,"^8",1529],["^ ","^7",96500,"^8",1140],["^ ","^7",162000,"^8",1320],["^ ","^7",217000,"^8",1494],["^ ","^7",275500,"^8",2098],["^ ","^7",156000,"^8",1026],["^ ","^7",172500,"^8",1471],["^ ","^7",212000,"^8",1768],["^ ","^7",158900,"^8",1386],["^ ","^7",179400,"^8",1501],["^ ","^7",290000,"^8",2531],["^ ","^7",127500,"^8",864],["^ ","^7",100000,"^8",1301],["^ ","^7",215200,"^8",1547],["^ ","^7",337000,"^8",2365],["^ ","^7",270000,"^8",1494],["^ ","^7",264132,"^8",1506],["^ ","^7",196500,"^8",1714],["^ ","^7",160000,"^8",1750],["^ ","^7",216837,"^8",1836],["^ ","^7",538000,"^8",3279],["^ ","^7",134900,"^8",858],["^ ","^7",102000,"^8",1220],["^ ","^7",107000,"^8",1117],["^ ","^7",114500,"^8",912],["^ ","^7",395000,"^8",1973],["^ ","^7",162000,"^8",1204],["^ ","^7",221500,"^8",1614],["^ ","^7",142500,"^8",894],["^ ","^7",144000,"^8",2020],["^ ","^7",135000,"^8",1004],["^ ","^7",176000,"^8",1253],["^ ","^7",175900,"^8",1603],["^ ","^7",187100,"^8",1430],["^ ","^7",165500,"^8",1110],["^ ","^7",128000,"^8",1484],["^ ","^7",161500,"^8",1342],["^ ","^7",139000,"^8",1652],["^ ","^7",233000,"^8",2084],["^ ","^7",107900,"^8",901],["^ ","^7",187500,"^8",2087],["^ ","^7",160200,"^8",1145],["^ ","^7",146800,"^8",1062],["^ ","^7",269790,"^8",2013],["^ ","^7",225000,"^8",1496],["^ ","^7",194500,"^8",1895],["^ ","^7",171000,"^8",1564],["^ ","^7",143500,"^8",1285],["^ ","^7",110000,"^8",773],["^ ","^7",485000,"^8",3140],["^ ","^7",175000,"^8",1768],["^ ","^7",200000,"^8",1688],["^ ","^7",109900,"^8",1196],["^ ","^7",189000,"^8",1456],["^ ","^7",582933,"^8",2822],["^ ","^7",118000,"^8",1128],["^ ","^7",227680,"^8",1428],["^ ","^7",135500,"^8",980],["^ ","^7",223500,"^8",1576],["^ ","^7",159950,"^8",1086],["^ ","^7",106000,"^8",2138],["^ ","^7",181000,"^8",1309],["^ ","^7",144500,"^8",848],["^ ","^7",55993,"^8",1044],["^ ","^7",157900,"^8",1442],["^ ","^7",116000,"^8",1250],["^ ","^7",224900,"^8",1661],["^ ","^7",137000,"^8",1008],["^ ","^7",271000,"^8",1689],["^ ","^7",155000,"^8",1052],["^ ","^7",224000,"^8",1358],["^ ","^7",183000,"^8",1640],["^ ","^7",93000,"^8",936],["^ ","^7",225000,"^8",1733],["^ ","^7",139500,"^8",1489],["^ ","^7",232600,"^8",1489],["^ ","^7",385000,"^8",2084],["^ ","^7",109500,"^8",784],["^ ","^7",189000,"^8",1434],["^ ","^7",185000,"^8",2126],["^ ","^7",147400,"^8",1223],["^ ","^7",166000,"^8",1392],["^ ","^7",151000,"^8",1200],["^ ","^7",237000,"^8",1829],["^ ","^7",167000,"^8",1516],["^ ","^7",139950,"^8",1144],["^ ","^7",128000,"^8",1067],["^ ","^7",153500,"^8",1559],["^ ","^7",100000,"^8",987],["^ ","^7",144000,"^8",1099],["^ ","^7",130500,"^8",1200],["^ ","^7",140000,"^8",1482],["^ ","^7",157500,"^8",1539],["^ ","^7",174900,"^8",1165],["^ ","^7",141000,"^8",1800],["^ ","^7",153900,"^8",1416],["^ ","^7",171000,"^8",1701],["^ ","^7",213000,"^8",1775],["^ ","^7",133500,"^8",864],["^ ","^7",240000,"^8",2358],["^ ","^7",187000,"^8",1855],["^ ","^7",131500,"^8",848],["^ ","^7",215000,"^8",1456],["^ ","^7",164000,"^8",1646],["^ ","^7",158000,"^8",1445],["^ ","^7",170000,"^8",1779],["^ ","^7",127000,"^8",1040],["^ ","^7",147000,"^8",1026],["^ ","^7",174000,"^8",1481],["^ ","^7",152000,"^8",1370],["^ ","^7",250000,"^8",2654],["^ ","^7",189950,"^8",1426],["^ ","^7",131500,"^8",1039],["^ ","^7",152000,"^8",1097],["^ ","^7",132500,"^8",1148],["^ ","^7",250580,"^8",1372],["^ ","^7",148500,"^8",1002],["^ ","^7",248900,"^8",1646],["^ ","^7",129000,"^8",1120],["^ ","^7",169000,"^8",2320],["^ ","^7",236000,"^8",1949],["^ ","^7",109500,"^8",894],["^ ","^7",200500,"^8",1682],["^ ","^7",116000,"^8",910],["^ ","^7",133000,"^8",1268],["^ ","^7",66500,"^8",1131],["^ ","^7",303477,"^8",2610],["^ ","^7",132250,"^8",1040],["^ ","^7",350000,"^8",2224],["^ ","^7",148000,"^8",1155],["^ ","^7",136500,"^8",864],["^ ","^7",157000,"^8",1090],["^ ","^7",187500,"^8",1717],["^ ","^7",178000,"^8",1593],["^ ","^7",118500,"^8",2230],["^ ","^7",100000,"^8",892],["^ ","^7",328900,"^8",1709],["^ ","^7",145000,"^8",1712],["^ ","^7",135500,"^8",1393],["^ ","^7",268000,"^8",2217],["^ ","^7",149500,"^8",1505],["^ ","^7",122900,"^8",924],["^ ","^7",172500,"^8",1683],["^ ","^7",154500,"^8",1068],["^ ","^7",165000,"^8",1383],["^ ","^7",118858,"^8",1535],["^ ","^7",140000,"^8",1796],["^ ","^7",106500,"^8",951],["^ ","^7",142953,"^8",2240],["^ ","^7",611657,"^8",2364],["^ ","^7",135000,"^8",1236],["^ ","^7",110000,"^8",858],["^ ","^7",153000,"^8",1306],["^ ","^7",180000,"^8",1509],["^ ","^7",240000,"^8",1670],["^ ","^7",125500,"^8",902],["^ ","^7",128000,"^8",1063],["^ ","^7",255000,"^8",1636],["^ ","^7",250000,"^8",2057],["^ ","^7",131000,"^8",902],["^ ","^7",174000,"^8",1484],["^ ","^7",154300,"^8",2274],["^ ","^7",143500,"^8",1268],["^ ","^7",88000,"^8",1015],["^ ","^7",145000,"^8",2002],["^ ","^7",173733,"^8",1224],["^ ","^7",75000,"^8",1092],["^ ","^7",35311,"^8",480],["^ ","^7",135000,"^8",1229],["^ ","^7",238000,"^8",2127],["^ ","^7",176500,"^8",1414],["^ ","^7",201000,"^8",1721],["^ ","^7",145900,"^8",2200],["^ ","^7",169990,"^8",1316],["^ ","^7",193000,"^8",1617],["^ ","^7",207500,"^8",1686],["^ ","^7",175000,"^8",1126],["^ ","^7",285000,"^8",2374],["^ ","^7",176000,"^8",1978],["^ ","^7",236500,"^8",1788],["^ ","^7",222000,"^8",2236],["^ ","^7",201000,"^8",1466],["^ ","^7",117500,"^8",925],["^ ","^7",320000,"^8",1905],["^ ","^7",190000,"^8",1500],["^ ","^7",242000,"^8",2069],["^ ","^7",79900,"^8",747],["^ ","^7",184900,"^8",1200],["^ ","^7",253000,"^8",1971],["^ ","^7",239799,"^8",1962],["^ ","^7",244400,"^8",2403],["^ ","^7",150900,"^8",1728],["^ ","^7",214000,"^8",2060],["^ ","^7",150000,"^8",1440],["^ ","^7",143000,"^8",1632],["^ ","^7",137500,"^8",1344],["^ ","^7",124900,"^8",1869],["^ ","^7",143000,"^8",1144],["^ ","^7",270000,"^8",1629],["^ ","^7",192500,"^8",1776],["^ ","^7",197500,"^8",1381],["^ ","^7",129000,"^8",864],["^ ","^7",119900,"^8",965],["^ ","^7",133900,"^8",768],["^ ","^7",172000,"^8",1968],["^ ","^7",127500,"^8",980],["^ ","^7",145000,"^8",1958],["^ ","^7",124000,"^8",1229],["^ ","^7",132000,"^8",1057],["^ ","^7",185000,"^8",1337],["^ ","^7",155000,"^8",1416],["^ ","^7",116500,"^8",858],["^ ","^7",272000,"^8",2872],["^ ","^7",155000,"^8",1548],["^ ","^7",239000,"^8",1800],["^ ","^7",214900,"^8",1894],["^ ","^7",178900,"^8",1484],["^ ","^7",160000,"^8",1308],["^ ","^7",135000,"^8",1098],["^ ","^7",37900,"^8",968],["^ ","^7",140000,"^8",1095],["^ ","^7",135000,"^8",1192],["^ ","^7",173000,"^8",1626],["^ ","^7",99500,"^8",918],["^ ","^7",182000,"^8",1428],["^ ","^7",167500,"^8",2019],["^ ","^7",165000,"^8",1382],["^ ","^7",85500,"^8",869],["^ ","^7",199900,"^8",1241],["^ ","^7",110000,"^8",894],["^ ","^7",139000,"^8",1121],["^ ","^7",178400,"^8",999],["^ ","^7",336000,"^8",2612],["^ ","^7",159895,"^8",1266],["^ ","^7",255900,"^8",2290],["^ ","^7",126000,"^8",1734],["^ ","^7",125000,"^8",1164],["^ ","^7",117000,"^8",1635],["^ ","^7",395192,"^8",1940],["^ ","^7",195000,"^8",2030],["^ ","^7",197000,"^8",1576],["^ ","^7",348000,"^8",2392],["^ ","^7",168000,"^8",1742],["^ ","^7",187000,"^8",1851],["^ ","^7",173900,"^8",1500],["^ ","^7",337500,"^8",1718],["^ ","^7",121600,"^8",1230],["^ ","^7",136500,"^8",1050],["^ ","^7",185000,"^8",1442],["^ ","^7",91000,"^8",1077],["^ ","^7",206000,"^8",1208],["^ ","^7",82000,"^8",944],["^ ","^7",86000,"^8",691],["^ ","^7",232000,"^8",1574],["^ ","^7",136905,"^8",1680],["^ ","^7",181000,"^8",1504],["^ ","^7",149900,"^8",985],["^ ","^7",163500,"^8",1657],["^ ","^7",88000,"^8",1092],["^ ","^7",240000,"^8",1710],["^ ","^7",102000,"^8",1522],["^ ","^7",135000,"^8",1271],["^ ","^7",100000,"^8",1664],["^ ","^7",165000,"^8",1502],["^ ","^7",85000,"^8",1022],["^ ","^7",119200,"^8",1082],["^ ","^7",227000,"^8",1665],["^ ","^7",203000,"^8",1504],["^ ","^7",187500,"^8",1360],["^ ","^7",160000,"^8",1472],["^ ","^7",213490,"^8",1506],["^ ","^7",176000,"^8",1132],["^ ","^7",194000,"^8",1220],["^ ","^7",87000,"^8",1248],["^ ","^7",191000,"^8",1504],["^ ","^7",287000,"^8",2898],["^ ","^7",112500,"^8",882],["^ ","^7",167500,"^8",1264],["^ ","^7",293077,"^8",1646],["^ ","^7",105000,"^8",1376],["^ ","^7",118000,"^8",1218],["^ ","^7",160000,"^8",1928],["^ ","^7",197000,"^8",3082],["^ ","^7",310000,"^8",2520],["^ ","^7",230000,"^8",1654],["^ ","^7",119750,"^8",954],["^ ","^7",84000,"^8",845],["^ ","^7",315500,"^8",1620],["^ ","^7",287000,"^8",2263],["^ ","^7",97000,"^8",1344],["^ ","^7",80000,"^8",630],["^ ","^7",155000,"^8",1803],["^ ","^7",173000,"^8",1632],["^ ","^7",196000,"^8",1306],["^ ","^7",262280,"^8",2329],["^ ","^7",278000,"^8",2524],["^ ","^7",139600,"^8",1733],["^ ","^7",556581,"^8",2868],["^ ","^7",145000,"^8",990],["^ ","^7",115000,"^8",1771],["^ ","^7",84900,"^8",930],["^ ","^7",176485,"^8",1302],["^ ","^7",200141,"^8",1316],["^ ","^7",165000,"^8",1977],["^ ","^7",144500,"^8",1526],["^ ","^7",255000,"^8",1989],["^ ","^7",180000,"^8",1523],["^ ","^7",185850,"^8",1364],["^ ","^7",248000,"^8",1850],["^ ","^7",335000,"^8",2184],["^ ","^7",220000,"^8",1991],["^ ","^7",213500,"^8",1338],["^ ","^7",81000,"^8",894],["^ ","^7",90000,"^8",2337],["^ ","^7",110500,"^8",1103],["^ ","^7",154000,"^8",1154],["^ ","^7",328000,"^8",2260],["^ ","^7",178000,"^8",1571],["^ ","^7",167900,"^8",1611],["^ ","^7",151400,"^8",2521],["^ ","^7",135000,"^8",893],["^ ","^7",135000,"^8",1048],["^ ","^7",154000,"^8",1556],["^ ","^7",91500,"^8",1456],["^ ","^7",159500,"^8",1426],["^ ","^7",194000,"^8",1240],["^ ","^7",219500,"^8",1740],["^ ","^7",170000,"^8",1466],["^ ","^7",138800,"^8",1096],["^ ","^7",155900,"^8",848],["^ ","^7",126000,"^8",990],["^ ","^7",145000,"^8",1258],["^ ","^7",133000,"^8",1040],["^ ","^7",192000,"^8",1459],["^ ","^7",160000,"^8",1251],["^ ","^7",187500,"^8",1498],["^ ","^7",147000,"^8",996],["^ ","^7",83500,"^8",1092],["^ ","^7",252000,"^8",1953],["^ ","^7",137500,"^8",1709],["^ ","^7",197000,"^8",1247],["^ ","^7",92900,"^8",1040],["^ ","^7",160000,"^8",1252],["^ ","^7",136500,"^8",1694],["^ ","^7",146000,"^8",1200],["^ ","^7",129000,"^8",936],["^ ","^7",176432,"^8",1314],["^ ","^7",127000,"^8",1355],["^ ","^7",170000,"^8",1088],["^ ","^7",128000,"^8",1324],["^ ","^7",157000,"^8",1601],["^ ","^7",60000,"^8",438],["^ ","^7",119500,"^8",950],["^ ","^7",135000,"^8",1134],["^ ","^7",159500,"^8",1194],["^ ","^7",106000,"^8",1302],["^ ","^7",325000,"^8",2622],["^ ","^7",179900,"^8",1442],["^ ","^7",274725,"^8",2021],["^ ","^7",181000,"^8",1690],["^ ","^7",280000,"^8",1836],["^ ","^7",188000,"^8",1658],["^ ","^7",205000,"^8",1964],["^ ","^7",129900,"^8",816],["^ ","^7",134500,"^8",1008],["^ ","^7",117000,"^8",833],["^ ","^7",318000,"^8",1734],["^ ","^7",184100,"^8",1419],["^ ","^7",130000,"^8",894],["^ ","^7",140000,"^8",1601],["^ ","^7",133700,"^8",1040],["^ ","^7",118400,"^8",1012],["^ ","^7",212900,"^8",1552],["^ ","^7",112000,"^8",960],["^ ","^7",118000,"^8",698],["^ ","^7",163900,"^8",1482],["^ ","^7",115000,"^8",1005],["^ ","^7",174000,"^8",1555],["^ ","^7",259000,"^8",1530],["^ ","^7",215000,"^8",1959],["^ ","^7",140000,"^8",936],["^ ","^7",135000,"^8",1981],["^ ","^7",93500,"^8",974],["^ ","^7",117500,"^8",2210],["^ ","^7",239500,"^8",2020],["^ ","^7",169000,"^8",1600],["^ ","^7",102000,"^8",986],["^ ","^7",119000,"^8",1252],["^ ","^7",94000,"^8",1020],["^ ","^7",196000,"^8",1567],["^ ","^7",144000,"^8",1167],["^ ","^7",139000,"^8",952],["^ ","^7",197500,"^8",1868],["^ ","^7",424870,"^8",2828],["^ ","^7",80000,"^8",1006],["^ ","^7",80000,"^8",924],["^ ","^7",149000,"^8",1576],["^ ","^7",180000,"^8",1298],["^ ","^7",174500,"^8",1564],["^ ","^7",116900,"^8",1111],["^ ","^7",143000,"^8",1482],["^ ","^7",124000,"^8",932],["^ ","^7",149900,"^8",1466],["^ ","^7",230000,"^8",1811],["^ ","^7",120500,"^8",816],["^ ","^7",201800,"^8",1820],["^ ","^7",218000,"^8",1437],["^ ","^7",179900,"^8",1265],["^ ","^7",230000,"^8",1314],["^ ","^7",235128,"^8",1580],["^ ","^7",185000,"^8",1876],["^ ","^7",146000,"^8",1456],["^ ","^7",224000,"^8",1640],["^ ","^7",129000,"^8",894],["^ ","^7",108959,"^8",1258],["^ ","^7",194000,"^8",1432],["^ ","^7",233170,"^8",1502],["^ ","^7",245350,"^8",1694],["^ ","^7",173000,"^8",1671],["^ ","^7",235000,"^8",2108],["^ ","^7",625000,"^8",3627],["^ ","^7",171000,"^8",1118],["^ ","^7",163000,"^8",1261],["^ ","^7",171900,"^8",1250],["^ ","^7",200500,"^8",3086],["^ ","^7",239000,"^8",2345],["^ ","^7",285000,"^8",2872],["^ ","^7",119500,"^8",923],["^ ","^7",115000,"^8",1224],["^ ","^7",154900,"^8",1343],["^ ","^7",93000,"^8",1124],["^ ","^7",250000,"^8",2514],["^ ","^7",392500,"^8",1652],["^ ","^7",745000,"^8",4476],["^ ","^7",120000,"^8",1130],["^ ","^7",186700,"^8",1572],["^ ","^7",104900,"^8",1221],["^ ","^7",95000,"^8",1699],["^ ","^7",262000,"^8",1624],["^ ","^7",195000,"^8",1660],["^ ","^7",189000,"^8",1804],["^ ","^7",168000,"^8",1622],["^ ","^7",174000,"^8",1441],["^ ","^7",125000,"^8",1472],["^ ","^7",165000,"^8",1224],["^ ","^7",158000,"^8",1352],["^ ","^7",176000,"^8",1456],["^ ","^7",219210,"^8",1863],["^ ","^7",144000,"^8",1690],["^ ","^7",178000,"^8",1212],["^ ","^7",148000,"^8",1382],["^ ","^7",116050,"^8",864],["^ ","^7",197900,"^8",1779],["^ ","^7",117000,"^8",1348],["^ ","^7",213000,"^8",1630],["^ ","^7",153500,"^8",1074],["^ ","^7",271900,"^8",2196],["^ ","^7",107000,"^8",1056],["^ ","^7",200000,"^8",1700],["^ ","^7",140000,"^8",1283],["^ ","^7",290000,"^8",1660],["^ ","^7",189000,"^8",1845],["^ ","^7",164000,"^8",1752],["^ ","^7",113000,"^8",672],["^ ","^7",145000,"^8",960],["^ ","^7",134500,"^8",999],["^ ","^7",125000,"^8",894],["^ ","^7",112000,"^8",1902],["^ ","^7",229456,"^8",1314],["^ ","^7",80500,"^8",912],["^ ","^7",91500,"^8",1218],["^ ","^7",115000,"^8",912],["^ ","^7",134000,"^8",1211],["^ ","^7",143000,"^8",1846],["^ ","^7",137900,"^8",2136],["^ ","^7",184000,"^8",1490],["^ ","^7",145000,"^8",1138],["^ ","^7",214000,"^8",1933],["^ ","^7",147000,"^8",912],["^ ","^7",367294,"^8",1702],["^ ","^7",127000,"^8",1507],["^ ","^7",190000,"^8",2620],["^ ","^7",132500,"^8",1190],["^ ","^7",101800,"^8",1224],["^ ","^7",142000,"^8",1188],["^ ","^7",130000,"^8",1964],["^ ","^7",138887,"^8",1784],["^ ","^7",175500,"^8",1626],["^ ","^7",195000,"^8",1948],["^ ","^7",142500,"^8",1141],["^ ","^7",265900,"^8",1484],["^ ","^7",224900,"^8",1768],["^ ","^7",248328,"^8",1689],["^ ","^7",170000,"^8",1173],["^ ","^7",465000,"^8",2076],["^ ","^7",230000,"^8",1517],["^ ","^7",178000,"^8",1868],["^ ","^7",186500,"^8",1553],["^ ","^7",169900,"^8",1034],["^ ","^7",129500,"^8",2058],["^ ","^7",119000,"^8",988],["^ ","^7",244000,"^8",2110],["^ ","^7",171750,"^8",1405],["^ ","^7",130000,"^8",874],["^ ","^7",294000,"^8",2167],["^ ","^7",165400,"^8",1656],["^ ","^7",127500,"^8",1367],["^ ","^7",301500,"^8",1987],["^ ","^7",99900,"^8",864],["^ ","^7",190000,"^8",1166],["^ ","^7",151000,"^8",1054],["^ ","^7",181000,"^8",1675],["^ ","^7",128900,"^8",1050],["^ ","^7",161500,"^8",1788],["^ ","^7",180500,"^8",1824],["^ ","^7",181000,"^8",1337],["^ ","^7",183900,"^8",1452],["^ ","^7",122000,"^8",1889],["^ ","^7",378500,"^8",2018],["^ ","^7",381000,"^8",3447],["^ ","^7",144000,"^8",1524],["^ ","^7",260000,"^8",1524],["^ ","^7",185750,"^8",1489],["^ ","^7",137000,"^8",935],["^ ","^7",177000,"^8",1357],["^ ","^7",139000,"^8",1250],["^ ","^7",137000,"^8",1920],["^ ","^7",162000,"^8",1395],["^ ","^7",197900,"^8",1724],["^ ","^7",237000,"^8",2031],["^ ","^7",68400,"^8",1128],["^ ","^7",227000,"^8",1573],["^ ","^7",180000,"^8",1339],["^ ","^7",150500,"^8",1040],["^ ","^7",139000,"^8",1824],["^ ","^7",169000,"^8",2447],["^ ","^7",132500,"^8",1412],["^ ","^7",143000,"^8",1328],["^ ","^7",190000,"^8",1582],["^ ","^7",278000,"^8",1659],["^ ","^7",281000,"^8",1970],["^ ","^7",180500,"^8",1152],["^ ","^7",119500,"^8",1302],["^ ","^7",107500,"^8",2372],["^ ","^7",162900,"^8",1664],["^ ","^7",115000,"^8",864],["^ ","^7",138500,"^8",1052],["^ ","^7",155000,"^8",1128],["^ ","^7",140000,"^8",1072],["^ ","^7",160000,"^8",5642],["^ ","^7",154000,"^8",1246],["^ ","^7",225000,"^8",1983],["^ ","^7",177500,"^8",1494],["^ ","^7",290000,"^8",2526],["^ ","^7",232000,"^8",1616],["^ ","^7",130000,"^8",1708],["^ ","^7",325000,"^8",1652],["^ ","^7",202500,"^8",1368],["^ ","^7",138000,"^8",990],["^ ","^7",147000,"^8",1122],["^ ","^7",179200,"^8",1294],["^ ","^7",335000,"^8",1902],["^ ","^7",203000,"^8",1274],["^ ","^7",302000,"^8",2810],["^ ","^7",333168,"^8",2599],["^ ","^7",119000,"^8",948],["^ ","^7",206900,"^8",2112],["^ ","^7",295493,"^8",1630],["^ ","^7",208900,"^8",1352],["^ ","^7",275000,"^8",1787],["^ ","^7",111000,"^8",948],["^ ","^7",156500,"^8",1478],["^ ","^7",72500,"^8",720],["^ ","^7",190000,"^8",1923],["^ ","^7",82500,"^8",708],["^ ","^7",147000,"^8",1795],["^ ","^7",55000,"^8",796],["^ ","^7",79000,"^8",774],["^ ","^7",130500,"^8",816],["^ ","^7",256000,"^8",2792],["^ ","^7",176500,"^8",1632],["^ ","^7",227000,"^8",1588],["^ ","^7",132500,"^8",954],["^ ","^7",100000,"^8",816],["^ ","^7",125500,"^8",1360],["^ ","^7",125000,"^8",1365],["^ ","^7",167900,"^8",1334],["^ ","^7",135000,"^8",1656],["^ ","^7",52500,"^8",693],["^ ","^7",200000,"^8",1861],["^ ","^7",128500,"^8",864],["^ ","^7",123000,"^8",872],["^ ","^7",155000,"^8",1114],["^ ","^7",228500,"^8",2169],["^ ","^7",177000,"^8",1913],["^ ","^7",155835,"^8",1456],["^ ","^7",108500,"^8",960],["^ ","^7",262500,"^8",2156],["^ ","^7",283463,"^8",1776],["^ ","^7",215000,"^8",1494],["^ ","^7",122000,"^8",2358],["^ ","^7",200000,"^8",2634],["^ ","^7",171000,"^8",1716],["^ ","^7",134900,"^8",1176],["^ ","^7",410000,"^8",3238],["^ ","^7",235000,"^8",1865],["^ ","^7",170000,"^8",1920],["^ ","^7",110000,"^8",892],["^ ","^7",149900,"^8",1078],["^ ","^7",177500,"^8",1573],["^ ","^7",315000,"^8",1980],["^ ","^7",189000,"^8",2601],["^ ","^7",260000,"^8",1530],["^ ","^7",104900,"^8",1738],["^ ","^7",156932,"^8",1412],["^ ","^7",144152,"^8",1200],["^ ","^7",216000,"^8",1674],["^ ","^7",193000,"^8",1790],["^ ","^7",127000,"^8",1475],["^ ","^7",144000,"^8",848],["^ ","^7",232000,"^8",1668],["^ ","^7",105000,"^8",1374],["^ ","^7",165500,"^8",1661],["^ ","^7",274300,"^8",2097],["^ ","^7",466500,"^8",2633],["^ ","^7",250000,"^8",1958],["^ ","^7",239000,"^8",1571],["^ ","^7",91000,"^8",790],["^ ","^7",117000,"^8",1604],["^ ","^7",83000,"^8",987],["^ ","^7",167500,"^8",1394],["^ ","^7",58500,"^8",864],["^ ","^7",237500,"^8",2117],["^ ","^7",157000,"^8",1762],["^ ","^7",112000,"^8",1416],["^ ","^7",105000,"^8",1258],["^ ","^7",125500,"^8",1154],["^ ","^7",250000,"^8",2784],["^ ","^7",136000,"^8",2526],["^ ","^7",377500,"^8",1746],["^ ","^7",131000,"^8",1218],["^ ","^7",235000,"^8",1525],["^ ","^7",124000,"^8",1584],["^ ","^7",123000,"^8",900],["^ ","^7",163000,"^8",1912],["^ ","^7",246578,"^8",1500],["^ ","^7",281213,"^8",2482],["^ ","^7",160000,"^8",1687],["^ ","^7",137500,"^8",1513],["^ ","^7",138000,"^8",1904],["^ ","^7",137450,"^8",1608],["^ ","^7",120000,"^8",1158],["^ ","^7",193000,"^8",1593],["^ ","^7",193879,"^8",1294],["^ ","^7",282922,"^8",1464],["^ ","^7",105000,"^8",1214],["^ ","^7",275000,"^8",1646],["^ ","^7",133000,"^8",768],["^ ","^7",112000,"^8",833],["^ ","^7",125500,"^8",1363],["^ ","^7",215000,"^8",2093],["^ ","^7",230000,"^8",1840],["^ ","^7",140000,"^8",1668],["^ ","^7",90000,"^8",1040],["^ ","^7",257000,"^8",1844],["^ ","^7",207000,"^8",1848],["^ ","^7",175900,"^8",1569],["^ ","^7",122500,"^8",2290],["^ ","^7",340000,"^8",2450],["^ ","^7",124000,"^8",1144],["^ ","^7",223000,"^8",1844],["^ ","^7",179900,"^8",1416],["^ ","^7",127500,"^8",1069],["^ ","^7",136500,"^8",848],["^ ","^7",274970,"^8",2201],["^ ","^7",144000,"^8",1344],["^ ","^7",142000,"^8",1252],["^ ","^7",271000,"^8",2127],["^ ","^7",140000,"^8",1558],["^ ","^7",119000,"^8",804],["^ ","^7",182900,"^8",1440],["^ ","^7",192140,"^8",1838],["^ ","^7",143750,"^8",958],["^ ","^7",64500,"^8",968],["^ ","^7",186500,"^8",1792],["^ ","^7",160000,"^8",1126],["^ ","^7",174000,"^8",1537],["^ ","^7",120500,"^8",864],["^ ","^7",394617,"^8",1932],["^ ","^7",149700,"^8",1236],["^ ","^7",197000,"^8",1725],["^ ","^7",191000,"^8",2555],["^ ","^7",149300,"^8",848],["^ ","^7",310000,"^8",2007],["^ ","^7",121000,"^8",952],["^ ","^7",179600,"^8",1422],["^ ","^7",129000,"^8",913],["^ ","^7",157900,"^8",1188],["^ ","^7",240000,"^8",2090],["^ ","^7",112000,"^8",1346],["^ ","^7",92000,"^8",630],["^ ","^7",136000,"^8",1792],["^ ","^7",287090,"^8",1578],["^ ","^7",145000,"^8",1072],["^ ","^7",84500,"^8",1140],["^ ","^7",185000,"^8",1221],["^ ","^7",175000,"^8",1647],["^ ","^7",210000,"^8",2073],["^ ","^7",266500,"^8",2340],["^ ","^7",142125,"^8",1078],["^ ","^7",147500,"^8",1256]]],"~:mark","~:point","~:encoding",["^ ","~:y",["^ ","~:field","SalePrice","^0","~:quantitative"],"~:x",["^ ","^<","GrLivArea","^0","^="]]]],"~:map-keywords",true,"~:widget",true]]
;; <=

;; @@ [clj]
(def filtered-ds (dsp/filter src-dataset "GrLivArea" #(dfn/< (dsp/col) 4000)))
^:R [:p/vega {:data {:values
                                (-> filtered-ds
                                (ds/select-columns ["SalePrice" "GrLivArea"])
                                (ds/->flyweight))}
                     :mark :point
                     :encoding {:y {:field "SalePrice"
                                    :type :quantitative}
                                :x {:field "GrLivArea"
                                    :type :quantitative}}}]
;; @@
;; =>
;;; ["^ ","~:type","~:reagent","~:content",["^ ","~:hiccup",["~:p/vega",["^ ","~:data",["^ ","~:values",[["^ ","SalePrice",208500,"GrLivArea",1710],["^ ","^7",181500,"^8",1262],["^ ","^7",223500,"^8",1786],["^ ","^7",140000,"^8",1717],["^ ","^7",250000,"^8",2198],["^ ","^7",143000,"^8",1362],["^ ","^7",307000,"^8",1694],["^ ","^7",200000,"^8",2090],["^ ","^7",129900,"^8",1774],["^ ","^7",118000,"^8",1077],["^ ","^7",129500,"^8",1040],["^ ","^7",345000,"^8",2324],["^ ","^7",144000,"^8",912],["^ ","^7",279500,"^8",1494],["^ ","^7",157000,"^8",1253],["^ ","^7",132000,"^8",854],["^ ","^7",149000,"^8",1004],["^ ","^7",90000,"^8",1296],["^ ","^7",159000,"^8",1114],["^ ","^7",139000,"^8",1339],["^ ","^7",325300,"^8",2376],["^ ","^7",139400,"^8",1108],["^ ","^7",230000,"^8",1795],["^ ","^7",129900,"^8",1060],["^ ","^7",154000,"^8",1060],["^ ","^7",256300,"^8",1600],["^ ","^7",134800,"^8",900],["^ ","^7",306000,"^8",1704],["^ ","^7",207500,"^8",1600],["^ ","^7",68500,"^8",520],["^ ","^7",40000,"^8",1317],["^ ","^7",149350,"^8",1228],["^ ","^7",179900,"^8",1234],["^ ","^7",165500,"^8",1700],["^ ","^7",277500,"^8",1561],["^ ","^7",309000,"^8",2452],["^ ","^7",145000,"^8",1097],["^ ","^7",153000,"^8",1297],["^ ","^7",109000,"^8",1057],["^ ","^7",82000,"^8",1152],["^ ","^7",160000,"^8",1324],["^ ","^7",170000,"^8",1328],["^ ","^7",144000,"^8",884],["^ ","^7",130250,"^8",938],["^ ","^7",141000,"^8",1150],["^ ","^7",319900,"^8",1752],["^ ","^7",239686,"^8",2149],["^ ","^7",249700,"^8",1656],["^ ","^7",113000,"^8",1452],["^ ","^7",127000,"^8",955],["^ ","^7",177000,"^8",1470],["^ ","^7",114500,"^8",1176],["^ ","^7",110000,"^8",816],["^ ","^7",385000,"^8",1842],["^ ","^7",130000,"^8",1360],["^ ","^7",180500,"^8",1425],["^ ","^7",172500,"^8",1739],["^ ","^7",196500,"^8",1720],["^ ","^7",438780,"^8",2945],["^ ","^7",124900,"^8",780],["^ ","^7",158000,"^8",1158],["^ ","^7",101000,"^8",1111],["^ ","^7",202500,"^8",1370],["^ ","^7",140000,"^8",1710],["^ ","^7",219500,"^8",2034],["^ ","^7",317000,"^8",2473],["^ ","^7",180000,"^8",2207],["^ ","^7",226000,"^8",1479],["^ ","^7",80000,"^8",747],["^ ","^7",225000,"^8",2287],["^ ","^7",244000,"^8",2223],["^ ","^7",129500,"^8",845],["^ ","^7",185000,"^8",1718],["^ ","^7",144900,"^8",1086],["^ ","^7",107400,"^8",1605],["^ ","^7",91000,"^8",988],["^ ","^7",135750,"^8",952],["^ ","^7",127000,"^8",1285],["^ ","^7",136500,"^8",1768],["^ ","^7",110000,"^8",1230],["^ ","^7",193500,"^8",2142],["^ ","^7",153500,"^8",1337],["^ ","^7",245000,"^8",1563],["^ ","^7",126500,"^8",1065],["^ ","^7",168500,"^8",1474],["^ ","^7",260000,"^8",2417],["^ ","^7",174000,"^8",1560],["^ ","^7",164500,"^8",1224],["^ ","^7",85000,"^8",1526],["^ ","^7",123600,"^8",990],["^ ","^7",109900,"^8",1040],["^ ","^7",98600,"^8",1235],["^ ","^7",163500,"^8",964],["^ ","^7",133900,"^8",2291],["^ ","^7",204750,"^8",1786],["^ ","^7",185000,"^8",1470],["^ ","^7",214000,"^8",1588],["^ ","^7",94750,"^8",960],["^ ","^7",83000,"^8",835],["^ ","^7",128950,"^8",1225],["^ ","^7",205000,"^8",1610],["^ ","^7",178000,"^8",1732],["^ ","^7",118964,"^8",1535],["^ ","^7",198900,"^8",1226],["^ ","^7",169500,"^8",1818],["^ ","^7",250000,"^8",1992],["^ ","^7",100000,"^8",1047],["^ ","^7",115000,"^8",789],["^ ","^7",115000,"^8",1517],["^ ","^7",190000,"^8",1844],["^ ","^7",136900,"^8",1855],["^ ","^7",180000,"^8",1430],["^ ","^7",383970,"^8",2696],["^ ","^7",217000,"^8",2259],["^ ","^7",259500,"^8",2320],["^ ","^7",176000,"^8",1458],["^ ","^7",139000,"^8",1092],["^ ","^7",155000,"^8",1125],["^ ","^7",320000,"^8",3222],["^ ","^7",163990,"^8",1456],["^ ","^7",180000,"^8",988],["^ ","^7",100000,"^8",1123],["^ ","^7",136000,"^8",1080],["^ ","^7",153900,"^8",1199],["^ ","^7",181000,"^8",1586],["^ ","^7",84500,"^8",754],["^ ","^7",128000,"^8",958],["^ ","^7",87000,"^8",840],["^ ","^7",155000,"^8",1348],["^ ","^7",150000,"^8",1053],["^ ","^7",226000,"^8",2157],["^ ","^7",244000,"^8",2054],["^ ","^7",150750,"^8",1327],["^ ","^7",220000,"^8",1296],["^ ","^7",180000,"^8",1721],["^ ","^7",174000,"^8",1682],["^ ","^7",143000,"^8",1214],["^ ","^7",171000,"^8",1959],["^ ","^7",230000,"^8",1852],["^ ","^7",231500,"^8",1764],["^ ","^7",115000,"^8",864],["^ ","^7",260000,"^8",1734],["^ ","^7",166000,"^8",1385],["^ ","^7",204000,"^8",1501],["^ ","^7",125000,"^8",1728],["^ ","^7",130000,"^8",1709],["^ ","^7",105000,"^8",875],["^ ","^7",222500,"^8",2035],["^ ","^7",141000,"^8",1080],["^ ","^7",115000,"^8",1344],["^ ","^7",122000,"^8",969],["^ ","^7",372402,"^8",1710],["^ ","^7",190000,"^8",1993],["^ ","^7",235000,"^8",1252],["^ ","^7",125000,"^8",1200],["^ ","^7",79000,"^8",1096],["^ ","^7",109500,"^8",1040],["^ ","^7",269500,"^8",1968],["^ ","^7",254900,"^8",1947],["^ ","^7",320000,"^8",2462],["^ ","^7",162500,"^8",1232],["^ ","^7",412500,"^8",2668],["^ ","^7",220000,"^8",1541],["^ ","^7",103200,"^8",882],["^ ","^7",152000,"^8",1616],["^ ","^7",127500,"^8",1355],["^ ","^7",190000,"^8",1867],["^ ","^7",325624,"^8",2161],["^ ","^7",183500,"^8",1720],["^ ","^7",228000,"^8",1707],["^ ","^7",128500,"^8",1382],["^ ","^7",215000,"^8",1656],["^ ","^7",239000,"^8",1767],["^ ","^7",163000,"^8",1362],["^ ","^7",184000,"^8",1651],["^ ","^7",243000,"^8",2158],["^ ","^7",211000,"^8",2060],["^ ","^7",172500,"^8",1920],["^ ","^7",501837,"^8",2234],["^ ","^7",100000,"^8",968],["^ ","^7",177000,"^8",1525],["^ ","^7",200100,"^8",1802],["^ ","^7",120000,"^8",1340],["^ ","^7",200000,"^8",2082],["^ ","^7",127000,"^8",1252],["^ ","^7",475000,"^8",3608],["^ ","^7",173000,"^8",1217],["^ ","^7",135000,"^8",1656],["^ ","^7",153337,"^8",1224],["^ ","^7",286000,"^8",1593],["^ ","^7",315000,"^8",2727],["^ ","^7",184000,"^8",1479],["^ ","^7",192000,"^8",1431],["^ ","^7",130000,"^8",1709],["^ ","^7",127000,"^8",864],["^ ","^7",148500,"^8",1456],["^ ","^7",311872,"^8",1726],["^ ","^7",235000,"^8",3112],["^ ","^7",104000,"^8",2229],["^ ","^7",274900,"^8",1713],["^ ","^7",140000,"^8",1121],["^ ","^7",171500,"^8",1279],["^ ","^7",112000,"^8",1310],["^ ","^7",149000,"^8",848],["^ ","^7",110000,"^8",1284],["^ ","^7",180500,"^8",1442],["^ ","^7",143900,"^8",1696],["^ ","^7",141000,"^8",1100],["^ ","^7",277000,"^8",2062],["^ ","^7",145000,"^8",1092],["^ ","^7",98000,"^8",864],["^ ","^7",186000,"^8",1212],["^ ","^7",252678,"^8",1852],["^ ","^7",156000,"^8",990],["^ ","^7",161750,"^8",1392],["^ ","^7",134450,"^8",1236],["^ ","^7",210000,"^8",1436],["^ ","^7",107000,"^8",1328],["^ ","^7",311500,"^8",1954],["^ ","^7",167240,"^8",1248],["^ ","^7",204900,"^8",1498],["^ ","^7",200000,"^8",2267],["^ ","^7",179900,"^8",1552],["^ ","^7",97000,"^8",864],["^ ","^7",386250,"^8",2392],["^ ","^7",112000,"^8",1302],["^ ","^7",290000,"^8",2520],["^ ","^7",106000,"^8",987],["^ ","^7",125000,"^8",912],["^ ","^7",192500,"^8",1555],["^ ","^7",148000,"^8",1194],["^ ","^7",403000,"^8",2794],["^ ","^7",94500,"^8",987],["^ ","^7",128200,"^8",894],["^ ","^7",216500,"^8",1960],["^ ","^7",89500,"^8",987],["^ ","^7",185500,"^8",1414],["^ ","^7",194500,"^8",1744],["^ ","^7",318000,"^8",1694],["^ ","^7",113000,"^8",1487],["^ ","^7",262500,"^8",1566],["^ ","^7",110500,"^8",866],["^ ","^7",79000,"^8",1440],["^ ","^7",120000,"^8",1217],["^ ","^7",205000,"^8",2110],["^ ","^7",241500,"^8",1872],["^ ","^7",137000,"^8",1928],["^ ","^7",140000,"^8",1375],["^ ","^7",180000,"^8",1668],["^ ","^7",277000,"^8",2144],["^ ","^7",76500,"^8",1306],["^ ","^7",235000,"^8",1625],["^ ","^7",173000,"^8",1640],["^ ","^7",158000,"^8",1302],["^ ","^7",145000,"^8",1314],["^ ","^7",230000,"^8",2291],["^ ","^7",207500,"^8",1728],["^ ","^7",220000,"^8",1604],["^ ","^7",231500,"^8",1792],["^ ","^7",97000,"^8",882],["^ ","^7",176000,"^8",1382],["^ ","^7",276000,"^8",2574],["^ ","^7",151000,"^8",1212],["^ ","^7",130000,"^8",1316],["^ ","^7",73000,"^8",764],["^ ","^7",175500,"^8",1422],["^ ","^7",185000,"^8",1511],["^ ","^7",179500,"^8",2192],["^ ","^7",120500,"^8",778],["^ ","^7",148000,"^8",1113],["^ ","^7",266000,"^8",1939],["^ ","^7",241500,"^8",1363],["^ ","^7",290000,"^8",2270],["^ ","^7",139000,"^8",1632],["^ ","^7",124500,"^8",816],["^ ","^7",205000,"^8",1548],["^ ","^7",201000,"^8",1560],["^ ","^7",141000,"^8",864],["^ ","^7",415298,"^8",2121],["^ ","^7",192000,"^8",2022],["^ ","^7",228500,"^8",1982],["^ ","^7",185000,"^8",1262],["^ ","^7",207500,"^8",1314],["^ ","^7",244600,"^8",1468],["^ ","^7",179200,"^8",1575],["^ ","^7",164700,"^8",1250],["^ ","^7",159000,"^8",1734],["^ ","^7",88000,"^8",858],["^ ","^7",122000,"^8",900],["^ ","^7",153575,"^8",1396],["^ ","^7",233230,"^8",1919],["^ ","^7",135900,"^8",1716],["^ ","^7",131000,"^8",1716],["^ ","^7",235000,"^8",2263],["^ ","^7",167000,"^8",1644],["^ ","^7",142500,"^8",1003],["^ ","^7",152000,"^8",1558],["^ ","^7",239000,"^8",1950],["^ ","^7",175000,"^8",1743],["^ ","^7",158500,"^8",1152],["^ ","^7",157000,"^8",1336],["^ ","^7",267000,"^8",2452],["^ ","^7",205000,"^8",1541],["^ ","^7",149900,"^8",894],["^ ","^7",295000,"^8",3493],["^ ","^7",305900,"^8",2000],["^ ","^7",225000,"^8",2243],["^ ","^7",89500,"^8",1406],["^ ","^7",82500,"^8",861],["^ ","^7",360000,"^8",1944],["^ ","^7",165600,"^8",1501],["^ ","^7",132000,"^8",972],["^ ","^7",119900,"^8",1118],["^ ","^7",375000,"^8",2036],["^ ","^7",178000,"^8",1641],["^ ","^7",188500,"^8",1432],["^ ","^7",260000,"^8",2353],["^ ","^7",270000,"^8",1959],["^ ","^7",260000,"^8",2646],["^ ","^7",187500,"^8",1472],["^ ","^7",342643,"^8",2596],["^ ","^7",354000,"^8",2468],["^ ","^7",301000,"^8",2730],["^ ","^7",126175,"^8",1163],["^ ","^7",242000,"^8",2978],["^ ","^7",87000,"^8",803],["^ ","^7",324000,"^8",1719],["^ ","^7",145250,"^8",1383],["^ ","^7",214500,"^8",2134],["^ ","^7",78000,"^8",1192],["^ ","^7",119000,"^8",1728],["^ ","^7",139000,"^8",1056],["^ ","^7",284000,"^8",1629],["^ ","^7",207000,"^8",1358],["^ ","^7",192000,"^8",1638],["^ ","^7",228950,"^8",1786],["^ ","^7",377426,"^8",1922],["^ ","^7",214000,"^8",1536],["^ ","^7",202500,"^8",1621],["^ ","^7",155000,"^8",1215],["^ ","^7",202900,"^8",1908],["^ ","^7",82000,"^8",841],["^ ","^7",87500,"^8",1040],["^ ","^7",266000,"^8",1684],["^ ","^7",85000,"^8",1112],["^ ","^7",140200,"^8",1577],["^ ","^7",151500,"^8",958],["^ ","^7",157500,"^8",1478],["^ ","^7",154000,"^8",1626],["^ ","^7",437154,"^8",2728],["^ ","^7",318061,"^8",1869],["^ ","^7",190000,"^8",1453],["^ ","^7",95000,"^8",1111],["^ ","^7",105900,"^8",720],["^ ","^7",140000,"^8",1595],["^ ","^7",177500,"^8",1200],["^ ","^7",173000,"^8",1167],["^ ","^7",134000,"^8",1142],["^ ","^7",130000,"^8",1352],["^ ","^7",280000,"^8",1924],["^ ","^7",156000,"^8",912],["^ ","^7",145000,"^8",1505],["^ ","^7",198500,"^8",1922],["^ ","^7",118000,"^8",987],["^ ","^7",190000,"^8",1574],["^ ","^7",147000,"^8",1344],["^ ","^7",159000,"^8",1394],["^ ","^7",165000,"^8",1431],["^ ","^7",132000,"^8",1268],["^ ","^7",162000,"^8",1287],["^ ","^7",172400,"^8",1664],["^ ","^7",134432,"^8",1588],["^ ","^7",125000,"^8",752],["^ ","^7",123000,"^8",1319],["^ ","^7",219500,"^8",1928],["^ ","^7",61000,"^8",904],["^ ","^7",148000,"^8",914],["^ ","^7",340000,"^8",2466],["^ ","^7",394432,"^8",1856],["^ ","^7",179000,"^8",1800],["^ ","^7",127000,"^8",1691],["^ ","^7",187750,"^8",1301],["^ ","^7",213500,"^8",1797],["^ ","^7",76000,"^8",784],["^ ","^7",240000,"^8",1953],["^ ","^7",192000,"^8",1269],["^ ","^7",81000,"^8",1184],["^ ","^7",125000,"^8",1125],["^ ","^7",191000,"^8",1479],["^ ","^7",426000,"^8",2332],["^ ","^7",119000,"^8",1367],["^ ","^7",215000,"^8",1961],["^ ","^7",106500,"^8",882],["^ ","^7",100000,"^8",788],["^ ","^7",109000,"^8",1034],["^ ","^7",129000,"^8",1144],["^ ","^7",123000,"^8",894],["^ ","^7",169500,"^8",1812],["^ ","^7",67000,"^8",1077],["^ ","^7",241000,"^8",1550],["^ ","^7",245500,"^8",1288],["^ ","^7",164990,"^8",1310],["^ ","^7",108000,"^8",672],["^ ","^7",258000,"^8",2263],["^ ","^7",168000,"^8",1572],["^ ","^7",150000,"^8",1620],["^ ","^7",115000,"^8",1639],["^ ","^7",177000,"^8",1680],["^ ","^7",280000,"^8",2172],["^ ","^7",339750,"^8",2078],["^ ","^7",60000,"^8",1276],["^ ","^7",145000,"^8",1056],["^ ","^7",222000,"^8",1478],["^ ","^7",115000,"^8",1028],["^ ","^7",228000,"^8",2097],["^ ","^7",181134,"^8",1340],["^ ","^7",149500,"^8",1400],["^ ","^7",239000,"^8",2624],["^ ","^7",126000,"^8",1134],["^ ","^7",142000,"^8",1056],["^ ","^7",206300,"^8",1344],["^ ","^7",215000,"^8",1602],["^ ","^7",113000,"^8",988],["^ ","^7",315000,"^8",2630],["^ ","^7",139000,"^8",1196],["^ ","^7",135000,"^8",1389],["^ ","^7",275000,"^8",1644],["^ ","^7",109008,"^8",907],["^ ","^7",195400,"^8",1208],["^ ","^7",175000,"^8",1412],["^ ","^7",85400,"^8",987],["^ ","^7",79900,"^8",1198],["^ ","^7",122500,"^8",1365],["^ ","^7",181000,"^8",1604],["^ ","^7",81000,"^8",630],["^ ","^7",212000,"^8",1661],["^ ","^7",116000,"^8",1118],["^ ","^7",119000,"^8",904],["^ ","^7",90350,"^8",694],["^ ","^7",110000,"^8",1196],["^ ","^7",555000,"^8",2402],["^ ","^7",118000,"^8",1440],["^ ","^7",162900,"^8",1573],["^ ","^7",172500,"^8",1258],["^ ","^7",210000,"^8",1908],["^ ","^7",127500,"^8",1689],["^ ","^7",190000,"^8",1888],["^ ","^7",199900,"^8",1886],["^ ","^7",119500,"^8",1376],["^ ","^7",120000,"^8",1183],["^ ","^7",110000,"^8",813],["^ ","^7",280000,"^8",1533],["^ ","^7",204000,"^8",1756],["^ ","^7",210000,"^8",1590],["^ ","^7",188000,"^8",1728],["^ ","^7",175500,"^8",1242],["^ ","^7",98000,"^8",1344],["^ ","^7",256000,"^8",1663],["^ ","^7",161000,"^8",1666],["^ ","^7",110000,"^8",1203],["^ ","^7",263435,"^8",1935],["^ ","^7",155000,"^8",1135],["^ ","^7",62383,"^8",864],["^ ","^7",188700,"^8",1660],["^ ","^7",124000,"^8",1040],["^ ","^7",178740,"^8",1414],["^ ","^7",167000,"^8",1277],["^ ","^7",146500,"^8",1644],["^ ","^7",250000,"^8",1634],["^ ","^7",187000,"^8",1710],["^ ","^7",212000,"^8",1502],["^ ","^7",190000,"^8",1969],["^ ","^7",148000,"^8",1072],["^ ","^7",440000,"^8",1976],["^ ","^7",251000,"^8",1652],["^ ","^7",132500,"^8",970],["^ ","^7",208900,"^8",1493],["^ ","^7",380000,"^8",2643],["^ ","^7",297000,"^8",1718],["^ ","^7",89471,"^8",1131],["^ ","^7",326000,"^8",1850],["^ ","^7",374000,"^8",1792],["^ ","^7",155000,"^8",1826],["^ ","^7",164000,"^8",1216],["^ ","^7",132500,"^8",999],["^ ","^7",147000,"^8",1113],["^ ","^7",156000,"^8",1073],["^ ","^7",175000,"^8",1484],["^ ","^7",160000,"^8",2414],["^ ","^7",86000,"^8",630],["^ ","^7",115000,"^8",1304],["^ ","^7",133000,"^8",1578],["^ ","^7",172785,"^8",1456],["^ ","^7",155000,"^8",1269],["^ ","^7",91300,"^8",886],["^ ","^7",34900,"^8",720],["^ ","^7",430000,"^8",3228],["^ ","^7",184000,"^8",1820],["^ ","^7",130000,"^8",899],["^ ","^7",120000,"^8",912],["^ ","^7",113000,"^8",1218],["^ ","^7",226700,"^8",1768],["^ ","^7",140000,"^8",1214],["^ ","^7",289000,"^8",1801],["^ ","^7",147000,"^8",1322],["^ ","^7",124500,"^8",1960],["^ ","^7",215000,"^8",1911],["^ ","^7",208300,"^8",1218],["^ ","^7",161000,"^8",1378],["^ ","^7",124500,"^8",1041],["^ ","^7",164900,"^8",1363],["^ ","^7",202665,"^8",1368],["^ ","^7",129900,"^8",864],["^ ","^7",134000,"^8",1080],["^ ","^7",96500,"^8",789],["^ ","^7",402861,"^8",2020],["^ ","^7",158000,"^8",2119],["^ ","^7",265000,"^8",2344],["^ ","^7",211000,"^8",1796],["^ ","^7",234000,"^8",2080],["^ ","^7",106250,"^8",1294],["^ ","^7",150000,"^8",1244],["^ ","^7",159000,"^8",1664],["^ ","^7",315750,"^8",2398],["^ ","^7",176000,"^8",1266],["^ ","^7",132000,"^8",928],["^ ","^7",446261,"^8",2713],["^ ","^7",86000,"^8",605],["^ ","^7",200624,"^8",2515],["^ ","^7",175000,"^8",1509],["^ ","^7",128000,"^8",1362],["^ ","^7",107500,"^8",827],["^ ","^7",39300,"^8",334],["^ ","^7",178000,"^8",1414],["^ ","^7",107500,"^8",1347],["^ ","^7",188000,"^8",1724],["^ ","^7",111250,"^8",864],["^ ","^7",158000,"^8",1159],["^ ","^7",272000,"^8",1601],["^ ","^7",315000,"^8",1838],["^ ","^7",248000,"^8",2285],["^ ","^7",213250,"^8",1680],["^ ","^7",133000,"^8",767],["^ ","^7",179665,"^8",1496],["^ ","^7",229000,"^8",2183],["^ ","^7",210000,"^8",1635],["^ ","^7",129500,"^8",768],["^ ","^7",125000,"^8",825],["^ ","^7",263000,"^8",2094],["^ ","^7",140000,"^8",1069],["^ ","^7",112500,"^8",928],["^ ","^7",255500,"^8",1717],["^ ","^7",108000,"^8",1126],["^ ","^7",284000,"^8",2046],["^ ","^7",113000,"^8",1048],["^ ","^7",141000,"^8",1092],["^ ","^7",108000,"^8",1336],["^ ","^7",175000,"^8",1446],["^ ","^7",234000,"^8",1557],["^ ","^7",121500,"^8",1392],["^ ","^7",170000,"^8",1389],["^ ","^7",108000,"^8",996],["^ ","^7",185000,"^8",1674],["^ ","^7",268000,"^8",2295],["^ ","^7",128000,"^8",1647],["^ ","^7",325000,"^8",2504],["^ ","^7",214000,"^8",1535],["^ ","^7",316600,"^8",2132],["^ ","^7",135960,"^8",943],["^ ","^7",142600,"^8",1728],["^ ","^7",120000,"^8",864],["^ ","^7",224500,"^8",1692],["^ ","^7",170000,"^8",1430],["^ ","^7",139000,"^8",1109],["^ ","^7",118500,"^8",1216],["^ ","^7",145000,"^8",1477],["^ ","^7",164500,"^8",1320],["^ ","^7",146000,"^8",1392],["^ ","^7",131500,"^8",1795],["^ ","^7",181900,"^8",1429],["^ ","^7",253293,"^8",2042],["^ ","^7",118500,"^8",816],["^ ","^7",325000,"^8",2775],["^ ","^7",133000,"^8",1573],["^ ","^7",369900,"^8",2028],["^ ","^7",130000,"^8",838],["^ ","^7",137000,"^8",860],["^ ","^7",143000,"^8",1473],["^ ","^7",79500,"^8",935],["^ ","^7",185900,"^8",1582],["^ ","^7",451950,"^8",2296],["^ ","^7",138000,"^8",816],["^ ","^7",140000,"^8",848],["^ ","^7",110000,"^8",924],["^ ","^7",319000,"^8",1826],["^ ","^7",114504,"^8",1368],["^ ","^7",194201,"^8",1402],["^ ","^7",217500,"^8",1647],["^ ","^7",151000,"^8",1556],["^ ","^7",275000,"^8",1904],["^ ","^7",141000,"^8",1375],["^ ","^7",220000,"^8",1915],["^ ","^7",151000,"^8",1200],["^ ","^7",221000,"^8",1494],["^ ","^7",205000,"^8",1986],["^ ","^7",152000,"^8",1040],["^ ","^7",225000,"^8",2008],["^ ","^7",359100,"^8",3194],["^ ","^7",118500,"^8",1029],["^ ","^7",313000,"^8",2153],["^ ","^7",148000,"^8",1032],["^ ","^7",261500,"^8",1872],["^ ","^7",147000,"^8",1120],["^ ","^7",75500,"^8",630],["^ ","^7",137500,"^8",1054],["^ ","^7",183200,"^8",1509],["^ ","^7",105500,"^8",832],["^ ","^7",314813,"^8",1828],["^ ","^7",305000,"^8",2262],["^ ","^7",67000,"^8",864],["^ ","^7",240000,"^8",2614],["^ ","^7",135000,"^8",980],["^ ","^7",168500,"^8",1512],["^ ","^7",165150,"^8",1790],["^ ","^7",160000,"^8",1116],["^ ","^7",139900,"^8",1422],["^ ","^7",153000,"^8",1520],["^ ","^7",135000,"^8",2080],["^ ","^7",168500,"^8",1350],["^ ","^7",124000,"^8",1750],["^ ","^7",209500,"^8",1554],["^ ","^7",82500,"^8",1411],["^ ","^7",139400,"^8",1056],["^ ","^7",144000,"^8",1056],["^ ","^7",200000,"^8",3395],["^ ","^7",60000,"^8",800],["^ ","^7",93000,"^8",1387],["^ ","^7",85000,"^8",796],["^ ","^7",264561,"^8",1567],["^ ","^7",274000,"^8",1518],["^ ","^7",226000,"^8",1929],["^ ","^7",345000,"^8",2704],["^ ","^7",152000,"^8",1620],["^ ","^7",370878,"^8",1766],["^ ","^7",143250,"^8",981],["^ ","^7",98300,"^8",1048],["^ ","^7",155000,"^8",1094],["^ ","^7",155000,"^8",1839],["^ ","^7",84500,"^8",630],["^ ","^7",205950,"^8",1665],["^ ","^7",108000,"^8",1510],["^ ","^7",191000,"^8",1716],["^ ","^7",135000,"^8",1469],["^ ","^7",350000,"^8",2113],["^ ","^7",88000,"^8",1092],["^ ","^7",145500,"^8",1053],["^ ","^7",149000,"^8",1502],["^ ","^7",97500,"^8",1458],["^ ","^7",167000,"^8",1486],["^ ","^7",197900,"^8",1935],["^ ","^7",402000,"^8",2448],["^ ","^7",110000,"^8",1392],["^ ","^7",137500,"^8",1181],["^ ","^7",423000,"^8",2097],["^ ","^7",230500,"^8",1936],["^ ","^7",129000,"^8",2380],["^ ","^7",193500,"^8",1679],["^ ","^7",168000,"^8",1437],["^ ","^7",137500,"^8",1180],["^ ","^7",173500,"^8",1476],["^ ","^7",103600,"^8",1369],["^ ","^7",165000,"^8",1208],["^ ","^7",257500,"^8",1839],["^ ","^7",140000,"^8",1136],["^ ","^7",148500,"^8",1441],["^ ","^7",87000,"^8",1774],["^ ","^7",109500,"^8",792],["^ ","^7",372500,"^8",2046],["^ ","^7",128500,"^8",988],["^ ","^7",143000,"^8",923],["^ ","^7",159434,"^8",1520],["^ ","^7",173000,"^8",1291],["^ ","^7",285000,"^8",1668],["^ ","^7",221000,"^8",1839],["^ ","^7",207500,"^8",2090],["^ ","^7",227875,"^8",1761],["^ ","^7",148800,"^8",1102],["^ ","^7",392000,"^8",1419],["^ ","^7",194700,"^8",1362],["^ ","^7",141000,"^8",848],["^ ","^7",335000,"^8",2519],["^ ","^7",108480,"^8",1073],["^ ","^7",141500,"^8",1539],["^ ","^7",176000,"^8",1137],["^ ","^7",89000,"^8",616],["^ ","^7",123500,"^8",1148],["^ ","^7",138500,"^8",894],["^ ","^7",196000,"^8",1391],["^ ","^7",312500,"^8",1800],["^ ","^7",140000,"^8",1164],["^ ","^7",361919,"^8",2576],["^ ","^7",140000,"^8",1812],["^ ","^7",213000,"^8",1484],["^ ","^7",55000,"^8",1092],["^ ","^7",302000,"^8",1824],["^ ","^7",254000,"^8",1324],["^ ","^7",179540,"^8",1456],["^ ","^7",109900,"^8",904],["^ ","^7",52000,"^8",729],["^ ","^7",102776,"^8",1178],["^ ","^7",189000,"^8",1228],["^ ","^7",129000,"^8",960],["^ ","^7",130500,"^8",1479],["^ ","^7",165000,"^8",1350],["^ ","^7",159500,"^8",2554],["^ ","^7",157000,"^8",1178],["^ ","^7",341000,"^8",2418],["^ ","^7",128500,"^8",971],["^ ","^7",275000,"^8",1742],["^ ","^7",143000,"^8",848],["^ ","^7",124500,"^8",864],["^ ","^7",135000,"^8",1470],["^ ","^7",320000,"^8",1698],["^ ","^7",120500,"^8",864],["^ ","^7",222000,"^8",1680],["^ ","^7",194500,"^8",1232],["^ ","^7",110000,"^8",1776],["^ ","^7",103000,"^8",1208],["^ ","^7",236500,"^8",1616],["^ ","^7",187500,"^8",1146],["^ ","^7",222500,"^8",2031],["^ ","^7",131400,"^8",1144],["^ ","^7",108000,"^8",948],["^ ","^7",163000,"^8",1768],["^ ","^7",93500,"^8",1040],["^ ","^7",239900,"^8",1801],["^ ","^7",179000,"^8",1200],["^ ","^7",190000,"^8",1728],["^ ","^7",132000,"^8",1432],["^ ","^7",142000,"^8",912],["^ ","^7",179000,"^8",1349],["^ ","^7",175000,"^8",1464],["^ ","^7",180000,"^8",1337],["^ ","^7",299800,"^8",2715],["^ ","^7",236000,"^8",2256],["^ ","^7",265979,"^8",2640],["^ ","^7",260400,"^8",1720],["^ ","^7",98000,"^8",1529],["^ ","^7",96500,"^8",1140],["^ ","^7",162000,"^8",1320],["^ ","^7",217000,"^8",1494],["^ ","^7",275500,"^8",2098],["^ ","^7",156000,"^8",1026],["^ ","^7",172500,"^8",1471],["^ ","^7",212000,"^8",1768],["^ ","^7",158900,"^8",1386],["^ ","^7",179400,"^8",1501],["^ ","^7",290000,"^8",2531],["^ ","^7",127500,"^8",864],["^ ","^7",100000,"^8",1301],["^ ","^7",215200,"^8",1547],["^ ","^7",337000,"^8",2365],["^ ","^7",270000,"^8",1494],["^ ","^7",264132,"^8",1506],["^ ","^7",196500,"^8",1714],["^ ","^7",160000,"^8",1750],["^ ","^7",216837,"^8",1836],["^ ","^7",538000,"^8",3279],["^ ","^7",134900,"^8",858],["^ ","^7",102000,"^8",1220],["^ ","^7",107000,"^8",1117],["^ ","^7",114500,"^8",912],["^ ","^7",395000,"^8",1973],["^ ","^7",162000,"^8",1204],["^ ","^7",221500,"^8",1614],["^ ","^7",142500,"^8",894],["^ ","^7",144000,"^8",2020],["^ ","^7",135000,"^8",1004],["^ ","^7",176000,"^8",1253],["^ ","^7",175900,"^8",1603],["^ ","^7",187100,"^8",1430],["^ ","^7",165500,"^8",1110],["^ ","^7",128000,"^8",1484],["^ ","^7",161500,"^8",1342],["^ ","^7",139000,"^8",1652],["^ ","^7",233000,"^8",2084],["^ ","^7",107900,"^8",901],["^ ","^7",187500,"^8",2087],["^ ","^7",160200,"^8",1145],["^ ","^7",146800,"^8",1062],["^ ","^7",269790,"^8",2013],["^ ","^7",225000,"^8",1496],["^ ","^7",194500,"^8",1895],["^ ","^7",171000,"^8",1564],["^ ","^7",143500,"^8",1285],["^ ","^7",110000,"^8",773],["^ ","^7",485000,"^8",3140],["^ ","^7",175000,"^8",1768],["^ ","^7",200000,"^8",1688],["^ ","^7",109900,"^8",1196],["^ ","^7",189000,"^8",1456],["^ ","^7",582933,"^8",2822],["^ ","^7",118000,"^8",1128],["^ ","^7",227680,"^8",1428],["^ ","^7",135500,"^8",980],["^ ","^7",223500,"^8",1576],["^ ","^7",159950,"^8",1086],["^ ","^7",106000,"^8",2138],["^ ","^7",181000,"^8",1309],["^ ","^7",144500,"^8",848],["^ ","^7",55993,"^8",1044],["^ ","^7",157900,"^8",1442],["^ ","^7",116000,"^8",1250],["^ ","^7",224900,"^8",1661],["^ ","^7",137000,"^8",1008],["^ ","^7",271000,"^8",1689],["^ ","^7",155000,"^8",1052],["^ ","^7",224000,"^8",1358],["^ ","^7",183000,"^8",1640],["^ ","^7",93000,"^8",936],["^ ","^7",225000,"^8",1733],["^ ","^7",139500,"^8",1489],["^ ","^7",232600,"^8",1489],["^ ","^7",385000,"^8",2084],["^ ","^7",109500,"^8",784],["^ ","^7",189000,"^8",1434],["^ ","^7",185000,"^8",2126],["^ ","^7",147400,"^8",1223],["^ ","^7",166000,"^8",1392],["^ ","^7",151000,"^8",1200],["^ ","^7",237000,"^8",1829],["^ ","^7",167000,"^8",1516],["^ ","^7",139950,"^8",1144],["^ ","^7",128000,"^8",1067],["^ ","^7",153500,"^8",1559],["^ ","^7",100000,"^8",987],["^ ","^7",144000,"^8",1099],["^ ","^7",130500,"^8",1200],["^ ","^7",140000,"^8",1482],["^ ","^7",157500,"^8",1539],["^ ","^7",174900,"^8",1165],["^ ","^7",141000,"^8",1800],["^ ","^7",153900,"^8",1416],["^ ","^7",171000,"^8",1701],["^ ","^7",213000,"^8",1775],["^ ","^7",133500,"^8",864],["^ ","^7",240000,"^8",2358],["^ ","^7",187000,"^8",1855],["^ ","^7",131500,"^8",848],["^ ","^7",215000,"^8",1456],["^ ","^7",164000,"^8",1646],["^ ","^7",158000,"^8",1445],["^ ","^7",170000,"^8",1779],["^ ","^7",127000,"^8",1040],["^ ","^7",147000,"^8",1026],["^ ","^7",174000,"^8",1481],["^ ","^7",152000,"^8",1370],["^ ","^7",250000,"^8",2654],["^ ","^7",189950,"^8",1426],["^ ","^7",131500,"^8",1039],["^ ","^7",152000,"^8",1097],["^ ","^7",132500,"^8",1148],["^ ","^7",250580,"^8",1372],["^ ","^7",148500,"^8",1002],["^ ","^7",248900,"^8",1646],["^ ","^7",129000,"^8",1120],["^ ","^7",169000,"^8",2320],["^ ","^7",236000,"^8",1949],["^ ","^7",109500,"^8",894],["^ ","^7",200500,"^8",1682],["^ ","^7",116000,"^8",910],["^ ","^7",133000,"^8",1268],["^ ","^7",66500,"^8",1131],["^ ","^7",303477,"^8",2610],["^ ","^7",132250,"^8",1040],["^ ","^7",350000,"^8",2224],["^ ","^7",148000,"^8",1155],["^ ","^7",136500,"^8",864],["^ ","^7",157000,"^8",1090],["^ ","^7",187500,"^8",1717],["^ ","^7",178000,"^8",1593],["^ ","^7",118500,"^8",2230],["^ ","^7",100000,"^8",892],["^ ","^7",328900,"^8",1709],["^ ","^7",145000,"^8",1712],["^ ","^7",135500,"^8",1393],["^ ","^7",268000,"^8",2217],["^ ","^7",149500,"^8",1505],["^ ","^7",122900,"^8",924],["^ ","^7",172500,"^8",1683],["^ ","^7",154500,"^8",1068],["^ ","^7",165000,"^8",1383],["^ ","^7",118858,"^8",1535],["^ ","^7",140000,"^8",1796],["^ ","^7",106500,"^8",951],["^ ","^7",142953,"^8",2240],["^ ","^7",611657,"^8",2364],["^ ","^7",135000,"^8",1236],["^ ","^7",110000,"^8",858],["^ ","^7",153000,"^8",1306],["^ ","^7",180000,"^8",1509],["^ ","^7",240000,"^8",1670],["^ ","^7",125500,"^8",902],["^ ","^7",128000,"^8",1063],["^ ","^7",255000,"^8",1636],["^ ","^7",250000,"^8",2057],["^ ","^7",131000,"^8",902],["^ ","^7",174000,"^8",1484],["^ ","^7",154300,"^8",2274],["^ ","^7",143500,"^8",1268],["^ ","^7",88000,"^8",1015],["^ ","^7",145000,"^8",2002],["^ ","^7",173733,"^8",1224],["^ ","^7",75000,"^8",1092],["^ ","^7",35311,"^8",480],["^ ","^7",135000,"^8",1229],["^ ","^7",238000,"^8",2127],["^ ","^7",176500,"^8",1414],["^ ","^7",201000,"^8",1721],["^ ","^7",145900,"^8",2200],["^ ","^7",169990,"^8",1316],["^ ","^7",193000,"^8",1617],["^ ","^7",207500,"^8",1686],["^ ","^7",175000,"^8",1126],["^ ","^7",285000,"^8",2374],["^ ","^7",176000,"^8",1978],["^ ","^7",236500,"^8",1788],["^ ","^7",222000,"^8",2236],["^ ","^7",201000,"^8",1466],["^ ","^7",117500,"^8",925],["^ ","^7",320000,"^8",1905],["^ ","^7",190000,"^8",1500],["^ ","^7",242000,"^8",2069],["^ ","^7",79900,"^8",747],["^ ","^7",184900,"^8",1200],["^ ","^7",253000,"^8",1971],["^ ","^7",239799,"^8",1962],["^ ","^7",244400,"^8",2403],["^ ","^7",150900,"^8",1728],["^ ","^7",214000,"^8",2060],["^ ","^7",150000,"^8",1440],["^ ","^7",143000,"^8",1632],["^ ","^7",137500,"^8",1344],["^ ","^7",124900,"^8",1869],["^ ","^7",143000,"^8",1144],["^ ","^7",270000,"^8",1629],["^ ","^7",192500,"^8",1776],["^ ","^7",197500,"^8",1381],["^ ","^7",129000,"^8",864],["^ ","^7",119900,"^8",965],["^ ","^7",133900,"^8",768],["^ ","^7",172000,"^8",1968],["^ ","^7",127500,"^8",980],["^ ","^7",145000,"^8",1958],["^ ","^7",124000,"^8",1229],["^ ","^7",132000,"^8",1057],["^ ","^7",185000,"^8",1337],["^ ","^7",155000,"^8",1416],["^ ","^7",116500,"^8",858],["^ ","^7",272000,"^8",2872],["^ ","^7",155000,"^8",1548],["^ ","^7",239000,"^8",1800],["^ ","^7",214900,"^8",1894],["^ ","^7",178900,"^8",1484],["^ ","^7",160000,"^8",1308],["^ ","^7",135000,"^8",1098],["^ ","^7",37900,"^8",968],["^ ","^7",140000,"^8",1095],["^ ","^7",135000,"^8",1192],["^ ","^7",173000,"^8",1626],["^ ","^7",99500,"^8",918],["^ ","^7",182000,"^8",1428],["^ ","^7",167500,"^8",2019],["^ ","^7",165000,"^8",1382],["^ ","^7",85500,"^8",869],["^ ","^7",199900,"^8",1241],["^ ","^7",110000,"^8",894],["^ ","^7",139000,"^8",1121],["^ ","^7",178400,"^8",999],["^ ","^7",336000,"^8",2612],["^ ","^7",159895,"^8",1266],["^ ","^7",255900,"^8",2290],["^ ","^7",126000,"^8",1734],["^ ","^7",125000,"^8",1164],["^ ","^7",117000,"^8",1635],["^ ","^7",395192,"^8",1940],["^ ","^7",195000,"^8",2030],["^ ","^7",197000,"^8",1576],["^ ","^7",348000,"^8",2392],["^ ","^7",168000,"^8",1742],["^ ","^7",187000,"^8",1851],["^ ","^7",173900,"^8",1500],["^ ","^7",337500,"^8",1718],["^ ","^7",121600,"^8",1230],["^ ","^7",136500,"^8",1050],["^ ","^7",185000,"^8",1442],["^ ","^7",91000,"^8",1077],["^ ","^7",206000,"^8",1208],["^ ","^7",82000,"^8",944],["^ ","^7",86000,"^8",691],["^ ","^7",232000,"^8",1574],["^ ","^7",136905,"^8",1680],["^ ","^7",181000,"^8",1504],["^ ","^7",149900,"^8",985],["^ ","^7",163500,"^8",1657],["^ ","^7",88000,"^8",1092],["^ ","^7",240000,"^8",1710],["^ ","^7",102000,"^8",1522],["^ ","^7",135000,"^8",1271],["^ ","^7",100000,"^8",1664],["^ ","^7",165000,"^8",1502],["^ ","^7",85000,"^8",1022],["^ ","^7",119200,"^8",1082],["^ ","^7",227000,"^8",1665],["^ ","^7",203000,"^8",1504],["^ ","^7",187500,"^8",1360],["^ ","^7",160000,"^8",1472],["^ ","^7",213490,"^8",1506],["^ ","^7",176000,"^8",1132],["^ ","^7",194000,"^8",1220],["^ ","^7",87000,"^8",1248],["^ ","^7",191000,"^8",1504],["^ ","^7",287000,"^8",2898],["^ ","^7",112500,"^8",882],["^ ","^7",167500,"^8",1264],["^ ","^7",293077,"^8",1646],["^ ","^7",105000,"^8",1376],["^ ","^7",118000,"^8",1218],["^ ","^7",160000,"^8",1928],["^ ","^7",197000,"^8",3082],["^ ","^7",310000,"^8",2520],["^ ","^7",230000,"^8",1654],["^ ","^7",119750,"^8",954],["^ ","^7",84000,"^8",845],["^ ","^7",315500,"^8",1620],["^ ","^7",287000,"^8",2263],["^ ","^7",97000,"^8",1344],["^ ","^7",80000,"^8",630],["^ ","^7",155000,"^8",1803],["^ ","^7",173000,"^8",1632],["^ ","^7",196000,"^8",1306],["^ ","^7",262280,"^8",2329],["^ ","^7",278000,"^8",2524],["^ ","^7",139600,"^8",1733],["^ ","^7",556581,"^8",2868],["^ ","^7",145000,"^8",990],["^ ","^7",115000,"^8",1771],["^ ","^7",84900,"^8",930],["^ ","^7",176485,"^8",1302],["^ ","^7",200141,"^8",1316],["^ ","^7",165000,"^8",1977],["^ ","^7",144500,"^8",1526],["^ ","^7",255000,"^8",1989],["^ ","^7",180000,"^8",1523],["^ ","^7",185850,"^8",1364],["^ ","^7",248000,"^8",1850],["^ ","^7",335000,"^8",2184],["^ ","^7",220000,"^8",1991],["^ ","^7",213500,"^8",1338],["^ ","^7",81000,"^8",894],["^ ","^7",90000,"^8",2337],["^ ","^7",110500,"^8",1103],["^ ","^7",154000,"^8",1154],["^ ","^7",328000,"^8",2260],["^ ","^7",178000,"^8",1571],["^ ","^7",167900,"^8",1611],["^ ","^7",151400,"^8",2521],["^ ","^7",135000,"^8",893],["^ ","^7",135000,"^8",1048],["^ ","^7",154000,"^8",1556],["^ ","^7",91500,"^8",1456],["^ ","^7",159500,"^8",1426],["^ ","^7",194000,"^8",1240],["^ ","^7",219500,"^8",1740],["^ ","^7",170000,"^8",1466],["^ ","^7",138800,"^8",1096],["^ ","^7",155900,"^8",848],["^ ","^7",126000,"^8",990],["^ ","^7",145000,"^8",1258],["^ ","^7",133000,"^8",1040],["^ ","^7",192000,"^8",1459],["^ ","^7",160000,"^8",1251],["^ ","^7",187500,"^8",1498],["^ ","^7",147000,"^8",996],["^ ","^7",83500,"^8",1092],["^ ","^7",252000,"^8",1953],["^ ","^7",137500,"^8",1709],["^ ","^7",197000,"^8",1247],["^ ","^7",92900,"^8",1040],["^ ","^7",160000,"^8",1252],["^ ","^7",136500,"^8",1694],["^ ","^7",146000,"^8",1200],["^ ","^7",129000,"^8",936],["^ ","^7",176432,"^8",1314],["^ ","^7",127000,"^8",1355],["^ ","^7",170000,"^8",1088],["^ ","^7",128000,"^8",1324],["^ ","^7",157000,"^8",1601],["^ ","^7",60000,"^8",438],["^ ","^7",119500,"^8",950],["^ ","^7",135000,"^8",1134],["^ ","^7",159500,"^8",1194],["^ ","^7",106000,"^8",1302],["^ ","^7",325000,"^8",2622],["^ ","^7",179900,"^8",1442],["^ ","^7",274725,"^8",2021],["^ ","^7",181000,"^8",1690],["^ ","^7",280000,"^8",1836],["^ ","^7",188000,"^8",1658],["^ ","^7",205000,"^8",1964],["^ ","^7",129900,"^8",816],["^ ","^7",134500,"^8",1008],["^ ","^7",117000,"^8",833],["^ ","^7",318000,"^8",1734],["^ ","^7",184100,"^8",1419],["^ ","^7",130000,"^8",894],["^ ","^7",140000,"^8",1601],["^ ","^7",133700,"^8",1040],["^ ","^7",118400,"^8",1012],["^ ","^7",212900,"^8",1552],["^ ","^7",112000,"^8",960],["^ ","^7",118000,"^8",698],["^ ","^7",163900,"^8",1482],["^ ","^7",115000,"^8",1005],["^ ","^7",174000,"^8",1555],["^ ","^7",259000,"^8",1530],["^ ","^7",215000,"^8",1959],["^ ","^7",140000,"^8",936],["^ ","^7",135000,"^8",1981],["^ ","^7",93500,"^8",974],["^ ","^7",117500,"^8",2210],["^ ","^7",239500,"^8",2020],["^ ","^7",169000,"^8",1600],["^ ","^7",102000,"^8",986],["^ ","^7",119000,"^8",1252],["^ ","^7",94000,"^8",1020],["^ ","^7",196000,"^8",1567],["^ ","^7",144000,"^8",1167],["^ ","^7",139000,"^8",952],["^ ","^7",197500,"^8",1868],["^ ","^7",424870,"^8",2828],["^ ","^7",80000,"^8",1006],["^ ","^7",80000,"^8",924],["^ ","^7",149000,"^8",1576],["^ ","^7",180000,"^8",1298],["^ ","^7",174500,"^8",1564],["^ ","^7",116900,"^8",1111],["^ ","^7",143000,"^8",1482],["^ ","^7",124000,"^8",932],["^ ","^7",149900,"^8",1466],["^ ","^7",230000,"^8",1811],["^ ","^7",120500,"^8",816],["^ ","^7",201800,"^8",1820],["^ ","^7",218000,"^8",1437],["^ ","^7",179900,"^8",1265],["^ ","^7",230000,"^8",1314],["^ ","^7",235128,"^8",1580],["^ ","^7",185000,"^8",1876],["^ ","^7",146000,"^8",1456],["^ ","^7",224000,"^8",1640],["^ ","^7",129000,"^8",894],["^ ","^7",108959,"^8",1258],["^ ","^7",194000,"^8",1432],["^ ","^7",233170,"^8",1502],["^ ","^7",245350,"^8",1694],["^ ","^7",173000,"^8",1671],["^ ","^7",235000,"^8",2108],["^ ","^7",625000,"^8",3627],["^ ","^7",171000,"^8",1118],["^ ","^7",163000,"^8",1261],["^ ","^7",171900,"^8",1250],["^ ","^7",200500,"^8",3086],["^ ","^7",239000,"^8",2345],["^ ","^7",285000,"^8",2872],["^ ","^7",119500,"^8",923],["^ ","^7",115000,"^8",1224],["^ ","^7",154900,"^8",1343],["^ ","^7",93000,"^8",1124],["^ ","^7",250000,"^8",2514],["^ ","^7",392500,"^8",1652],["^ ","^7",120000,"^8",1130],["^ ","^7",186700,"^8",1572],["^ ","^7",104900,"^8",1221],["^ ","^7",95000,"^8",1699],["^ ","^7",262000,"^8",1624],["^ ","^7",195000,"^8",1660],["^ ","^7",189000,"^8",1804],["^ ","^7",168000,"^8",1622],["^ ","^7",174000,"^8",1441],["^ ","^7",125000,"^8",1472],["^ ","^7",165000,"^8",1224],["^ ","^7",158000,"^8",1352],["^ ","^7",176000,"^8",1456],["^ ","^7",219210,"^8",1863],["^ ","^7",144000,"^8",1690],["^ ","^7",178000,"^8",1212],["^ ","^7",148000,"^8",1382],["^ ","^7",116050,"^8",864],["^ ","^7",197900,"^8",1779],["^ ","^7",117000,"^8",1348],["^ ","^7",213000,"^8",1630],["^ ","^7",153500,"^8",1074],["^ ","^7",271900,"^8",2196],["^ ","^7",107000,"^8",1056],["^ ","^7",200000,"^8",1700],["^ ","^7",140000,"^8",1283],["^ ","^7",290000,"^8",1660],["^ ","^7",189000,"^8",1845],["^ ","^7",164000,"^8",1752],["^ ","^7",113000,"^8",672],["^ ","^7",145000,"^8",960],["^ ","^7",134500,"^8",999],["^ ","^7",125000,"^8",894],["^ ","^7",112000,"^8",1902],["^ ","^7",229456,"^8",1314],["^ ","^7",80500,"^8",912],["^ ","^7",91500,"^8",1218],["^ ","^7",115000,"^8",912],["^ ","^7",134000,"^8",1211],["^ ","^7",143000,"^8",1846],["^ ","^7",137900,"^8",2136],["^ ","^7",184000,"^8",1490],["^ ","^7",145000,"^8",1138],["^ ","^7",214000,"^8",1933],["^ ","^7",147000,"^8",912],["^ ","^7",367294,"^8",1702],["^ ","^7",127000,"^8",1507],["^ ","^7",190000,"^8",2620],["^ ","^7",132500,"^8",1190],["^ ","^7",101800,"^8",1224],["^ ","^7",142000,"^8",1188],["^ ","^7",130000,"^8",1964],["^ ","^7",138887,"^8",1784],["^ ","^7",175500,"^8",1626],["^ ","^7",195000,"^8",1948],["^ ","^7",142500,"^8",1141],["^ ","^7",265900,"^8",1484],["^ ","^7",224900,"^8",1768],["^ ","^7",248328,"^8",1689],["^ ","^7",170000,"^8",1173],["^ ","^7",465000,"^8",2076],["^ ","^7",230000,"^8",1517],["^ ","^7",178000,"^8",1868],["^ ","^7",186500,"^8",1553],["^ ","^7",169900,"^8",1034],["^ ","^7",129500,"^8",2058],["^ ","^7",119000,"^8",988],["^ ","^7",244000,"^8",2110],["^ ","^7",171750,"^8",1405],["^ ","^7",130000,"^8",874],["^ ","^7",294000,"^8",2167],["^ ","^7",165400,"^8",1656],["^ ","^7",127500,"^8",1367],["^ ","^7",301500,"^8",1987],["^ ","^7",99900,"^8",864],["^ ","^7",190000,"^8",1166],["^ ","^7",151000,"^8",1054],["^ ","^7",181000,"^8",1675],["^ ","^7",128900,"^8",1050],["^ ","^7",161500,"^8",1788],["^ ","^7",180500,"^8",1824],["^ ","^7",181000,"^8",1337],["^ ","^7",183900,"^8",1452],["^ ","^7",122000,"^8",1889],["^ ","^7",378500,"^8",2018],["^ ","^7",381000,"^8",3447],["^ ","^7",144000,"^8",1524],["^ ","^7",260000,"^8",1524],["^ ","^7",185750,"^8",1489],["^ ","^7",137000,"^8",935],["^ ","^7",177000,"^8",1357],["^ ","^7",139000,"^8",1250],["^ ","^7",137000,"^8",1920],["^ ","^7",162000,"^8",1395],["^ ","^7",197900,"^8",1724],["^ ","^7",237000,"^8",2031],["^ ","^7",68400,"^8",1128],["^ ","^7",227000,"^8",1573],["^ ","^7",180000,"^8",1339],["^ ","^7",150500,"^8",1040],["^ ","^7",139000,"^8",1824],["^ ","^7",169000,"^8",2447],["^ ","^7",132500,"^8",1412],["^ ","^7",143000,"^8",1328],["^ ","^7",190000,"^8",1582],["^ ","^7",278000,"^8",1659],["^ ","^7",281000,"^8",1970],["^ ","^7",180500,"^8",1152],["^ ","^7",119500,"^8",1302],["^ ","^7",107500,"^8",2372],["^ ","^7",162900,"^8",1664],["^ ","^7",115000,"^8",864],["^ ","^7",138500,"^8",1052],["^ ","^7",155000,"^8",1128],["^ ","^7",140000,"^8",1072],["^ ","^7",154000,"^8",1246],["^ ","^7",225000,"^8",1983],["^ ","^7",177500,"^8",1494],["^ ","^7",290000,"^8",2526],["^ ","^7",232000,"^8",1616],["^ ","^7",130000,"^8",1708],["^ ","^7",325000,"^8",1652],["^ ","^7",202500,"^8",1368],["^ ","^7",138000,"^8",990],["^ ","^7",147000,"^8",1122],["^ ","^7",179200,"^8",1294],["^ ","^7",335000,"^8",1902],["^ ","^7",203000,"^8",1274],["^ ","^7",302000,"^8",2810],["^ ","^7",333168,"^8",2599],["^ ","^7",119000,"^8",948],["^ ","^7",206900,"^8",2112],["^ ","^7",295493,"^8",1630],["^ ","^7",208900,"^8",1352],["^ ","^7",275000,"^8",1787],["^ ","^7",111000,"^8",948],["^ ","^7",156500,"^8",1478],["^ ","^7",72500,"^8",720],["^ ","^7",190000,"^8",1923],["^ ","^7",82500,"^8",708],["^ ","^7",147000,"^8",1795],["^ ","^7",55000,"^8",796],["^ ","^7",79000,"^8",774],["^ ","^7",130500,"^8",816],["^ ","^7",256000,"^8",2792],["^ ","^7",176500,"^8",1632],["^ ","^7",227000,"^8",1588],["^ ","^7",132500,"^8",954],["^ ","^7",100000,"^8",816],["^ ","^7",125500,"^8",1360],["^ ","^7",125000,"^8",1365],["^ ","^7",167900,"^8",1334],["^ ","^7",135000,"^8",1656],["^ ","^7",52500,"^8",693],["^ ","^7",200000,"^8",1861],["^ ","^7",128500,"^8",864],["^ ","^7",123000,"^8",872],["^ ","^7",155000,"^8",1114],["^ ","^7",228500,"^8",2169],["^ ","^7",177000,"^8",1913],["^ ","^7",155835,"^8",1456],["^ ","^7",108500,"^8",960],["^ ","^7",262500,"^8",2156],["^ ","^7",283463,"^8",1776],["^ ","^7",215000,"^8",1494],["^ ","^7",122000,"^8",2358],["^ ","^7",200000,"^8",2634],["^ ","^7",171000,"^8",1716],["^ ","^7",134900,"^8",1176],["^ ","^7",410000,"^8",3238],["^ ","^7",235000,"^8",1865],["^ ","^7",170000,"^8",1920],["^ ","^7",110000,"^8",892],["^ ","^7",149900,"^8",1078],["^ ","^7",177500,"^8",1573],["^ ","^7",315000,"^8",1980],["^ ","^7",189000,"^8",2601],["^ ","^7",260000,"^8",1530],["^ ","^7",104900,"^8",1738],["^ ","^7",156932,"^8",1412],["^ ","^7",144152,"^8",1200],["^ ","^7",216000,"^8",1674],["^ ","^7",193000,"^8",1790],["^ ","^7",127000,"^8",1475],["^ ","^7",144000,"^8",848],["^ ","^7",232000,"^8",1668],["^ ","^7",105000,"^8",1374],["^ ","^7",165500,"^8",1661],["^ ","^7",274300,"^8",2097],["^ ","^7",466500,"^8",2633],["^ ","^7",250000,"^8",1958],["^ ","^7",239000,"^8",1571],["^ ","^7",91000,"^8",790],["^ ","^7",117000,"^8",1604],["^ ","^7",83000,"^8",987],["^ ","^7",167500,"^8",1394],["^ ","^7",58500,"^8",864],["^ ","^7",237500,"^8",2117],["^ ","^7",157000,"^8",1762],["^ ","^7",112000,"^8",1416],["^ ","^7",105000,"^8",1258],["^ ","^7",125500,"^8",1154],["^ ","^7",250000,"^8",2784],["^ ","^7",136000,"^8",2526],["^ ","^7",377500,"^8",1746],["^ ","^7",131000,"^8",1218],["^ ","^7",235000,"^8",1525],["^ ","^7",124000,"^8",1584],["^ ","^7",123000,"^8",900],["^ ","^7",163000,"^8",1912],["^ ","^7",246578,"^8",1500],["^ ","^7",281213,"^8",2482],["^ ","^7",160000,"^8",1687],["^ ","^7",137500,"^8",1513],["^ ","^7",138000,"^8",1904],["^ ","^7",137450,"^8",1608],["^ ","^7",120000,"^8",1158],["^ ","^7",193000,"^8",1593],["^ ","^7",193879,"^8",1294],["^ ","^7",282922,"^8",1464],["^ ","^7",105000,"^8",1214],["^ ","^7",275000,"^8",1646],["^ ","^7",133000,"^8",768],["^ ","^7",112000,"^8",833],["^ ","^7",125500,"^8",1363],["^ ","^7",215000,"^8",2093],["^ ","^7",230000,"^8",1840],["^ ","^7",140000,"^8",1668],["^ ","^7",90000,"^8",1040],["^ ","^7",257000,"^8",1844],["^ ","^7",207000,"^8",1848],["^ ","^7",175900,"^8",1569],["^ ","^7",122500,"^8",2290],["^ ","^7",340000,"^8",2450],["^ ","^7",124000,"^8",1144],["^ ","^7",223000,"^8",1844],["^ ","^7",179900,"^8",1416],["^ ","^7",127500,"^8",1069],["^ ","^7",136500,"^8",848],["^ ","^7",274970,"^8",2201],["^ ","^7",144000,"^8",1344],["^ ","^7",142000,"^8",1252],["^ ","^7",271000,"^8",2127],["^ ","^7",140000,"^8",1558],["^ ","^7",119000,"^8",804],["^ ","^7",182900,"^8",1440],["^ ","^7",192140,"^8",1838],["^ ","^7",143750,"^8",958],["^ ","^7",64500,"^8",968],["^ ","^7",186500,"^8",1792],["^ ","^7",160000,"^8",1126],["^ ","^7",174000,"^8",1537],["^ ","^7",120500,"^8",864],["^ ","^7",394617,"^8",1932],["^ ","^7",149700,"^8",1236],["^ ","^7",197000,"^8",1725],["^ ","^7",191000,"^8",2555],["^ ","^7",149300,"^8",848],["^ ","^7",310000,"^8",2007],["^ ","^7",121000,"^8",952],["^ ","^7",179600,"^8",1422],["^ ","^7",129000,"^8",913],["^ ","^7",157900,"^8",1188],["^ ","^7",240000,"^8",2090],["^ ","^7",112000,"^8",1346],["^ ","^7",92000,"^8",630],["^ ","^7",136000,"^8",1792],["^ ","^7",287090,"^8",1578],["^ ","^7",145000,"^8",1072],["^ ","^7",84500,"^8",1140],["^ ","^7",185000,"^8",1221],["^ ","^7",175000,"^8",1647],["^ ","^7",210000,"^8",2073],["^ ","^7",266500,"^8",2340],["^ ","^7",142125,"^8",1078],["^ ","^7",147500,"^8",1256]]],"~:mark","~:point","~:encoding",["^ ","~:y",["^ ","~:field","SalePrice","^0","~:quantitative"],"~:x",["^ ","^<","GrLivArea","^0","^="]]]],"~:map-keywords",true,"~:widget",true]]
;; <=

;; **
;;; ## Initial Pipeline
;;; 
;;; We now begin to construct our data processing pipeline.  Note that all pipeline operations are available as repl functions from the pipeline namespace.
;; **

;; @@ [clj]
(defn initial-pipeline-from-article
  [dataset]
  (-> dataset
      ;;Convert any numeric or boolean columns to be all of one datatype.
      (dsp/remove-columns ["Id"])
      (dsp/->datatype)
      (dsp/m= "SalePrice" #(dfn/log1p (dsp/col)))
      (ds/set-inference-target "SalePrice")))
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-var"],"#'user/initial-pipeline-from-article"],"~:value","#'user/initial-pipeline-from-article"]
;; <=

;; **
;;; ## Categorical Fixes
;;; 
;;; Whether columns are categorical or not is defined by attributes.
;; **

;; @@ [clj]
(defn more-categorical
  [dataset]
  (dsp/assoc-metadata dataset ["MSSubClass" "OverallQual" "OverallCond"] :categorical? true))

(println "pre-categorical-count" (count (cf/categorical? filtered-ds)))

(def post-categorical-fix (-> filtered-ds
                              initial-pipeline-from-article
                              more-categorical))

(println "post-categorical-count" (count (cf/categorical? post-categorical-fix)))

;; @@
;; ->
;;; pre-categorical-count 42
;;; post-categorical-count 45
;; <-
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-nil"],"nil"],"~:value","nil"]
;; <=

;; **
;;; ## Missing Entries
;;; 
;;; Missing data is a theme that will come up again and again.  Pandas has great tooling to clean up missing entries and we borrow heavily from them.
;; **

;; @@ [clj]
;; Impressive patience to come up with this list!!
(defn initial-missing-entries
  [dataset]
  (-> dataset
      ;; Handle missing values for features where median/mean or most common value doesn't
      ;; make sense

      ;; Alley : data description says NA means "no alley access"
      (dsp/replace-missing "Alley" "None")
      ;; BedroomAbvGr : NA most likely means 0
      (dsp/replace-missing ["BedroomAbvGr"
                            "BsmtFullBath"
                            "BsmtHalfBath"
                            "BsmtUnfSF"
                            "EnclosedPorch"
                            "Fireplaces"
                            "GarageArea"
                            "GarageCars"
                            "HalfBath"
                            ;; KitchenAbvGr : NA most likely means 0
                            "KitchenAbvGr"
                            "LotFrontage"
                            "MasVnrArea"
                            "MiscVal"
                            ;; OpenPorchSF : NA most likely means no open porch
                            "OpenPorchSF"
                            "PoolArea"
                            ;; ScreenPorch : NA most likely means no screen porch
                            "ScreenPorch"
                            ;; TotRmsAbvGrd : NA most likely means 0
                            "TotRmsAbvGrd"
                            ;; WoodDeckSF : NA most likely means no wood deck
                            "WoodDeckSF"
                            ]
                           0)
      ;; BsmtQual etc : data description says NA for basement features is "no basement"
      (dsp/replace-missing ["BsmtQual"
                            "BsmtCond"
                            "BsmtExposure"
                            "BsmtFinType1"
                            "BsmtFinType2"
                            ;; Fence : data description says NA means "no fence"
                            "Fence"
                            ;; FireplaceQu : data description says NA means "no
                            ;; fireplace"

                            "FireplaceQu"
                            ;; GarageType etc : data description says NA for garage
                            ;; features is "no garage"
                            "GarageType"
                            "GarageFinish"
                            "GarageQual"
                            "GarageCond"
                            ;; MiscFeature : data description says NA means "no misc
                            ;; feature"
                            "MiscFeature"
                            ;; PoolQC : data description says NA means "no pool"
                            "PoolQC"
                            ]
                           "No")
      (dsp/replace-missing "CentralAir" "N")
      (dsp/replace-missing ["Condition1"
                            "Condition2"]
                           "Norm")
      ;; Condition : NA most likely means Normal
      ;; EnclosedPorch : NA most likely means no enclosed porch
      ;; External stuff : NA most likely means average
      (dsp/replace-missing ["ExterCond"
                            "ExterQual"
                            ;; HeatingQC : NA most likely means typical
                            "HeatingQC"
                            ;; KitchenQual : NA most likely means typical
                            "KitchenQual"
                            ]
                           "TA")
      ;; Functional : data description says NA means typical
      (dsp/replace-missing "Functional" "Typ")
      ;; LotShape : NA most likely means regular
      (dsp/replace-missing "LotShape" "Reg")
      ;; MasVnrType : NA most likely means no veneer
      (dsp/replace-missing "MasVnrType" "None")
      ;; PavedDrive : NA most likely means not paved
      (dsp/replace-missing "PavedDrive" "N")
      (dsp/replace-missing "SaleCondition" "Normal")
      (dsp/replace-missing "Utilities" "AllPub")))

(println "pre missing fix #1")
(pp/pprint (ds/columns-with-missing-seq post-categorical-fix))

(def post-missing (initial-missing-entries post-categorical-fix))
(println "post missing fix #1")
(pp/pprint (ds/columns-with-missing-seq post-missing))
;; @@
;; ->
;;; pre missing fix #1
;;; ({:column-name "Alley", :missing-count 1365}
;;;  {:column-name "MasVnrType", :missing-count 8}
;;;  {:column-name "BsmtQual", :missing-count 37}
;;;  {:column-name "BsmtCond", :missing-count 37}
;;;  {:column-name "BsmtExposure", :missing-count 38}
;;;  {:column-name "BsmtFinType1", :missing-count 37}
;;;  {:column-name "BsmtFinType2", :missing-count 38}
;;;  {:column-name "Electrical", :missing-count 1}
;;;  {:column-name "FireplaceQu", :missing-count 690}
;;;  {:column-name "GarageType", :missing-count 81}
;;;  {:column-name "GarageFinish", :missing-count 81}
;;;  {:column-name "GarageQual", :missing-count 81}
;;;  {:column-name "GarageCond", :missing-count 81}
;;;  {:column-name "PoolQC", :missing-count 1451}
;;;  {:column-name "Fence", :missing-count 1176}
;;;  {:column-name "MiscFeature", :missing-count 1402})
;;; post missing fix #1
;;; ({:column-name "Electrical", :missing-count 1})
;; <-
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-nil"],"nil"],"~:value","nil"]
;; <=

;; **
;;; ## String->Number
;;; 
;;; 
;;; We need to convert string data into numbers somehow.  One method is to build a lookup table such that 1 string column gets converted into 1 numeric column.  The exact encoding of these strings can be very important to communicate semantic information from the dataset to the ml system.  We remember all these mappings because we have to use them later.  They get stored both in the recorded pipeline and in the options map so we can reverse-map label values back into their categorical initial values.
;; **

;; @@ [clj]
(def str->number-initial-map
  {
   "Alley"  {"Grvl"  1 "Pave" 2 "None" 0}
   "BsmtCond"  {"No"  0 "Po"  1 "Fa"  2 "TA"  3 "Gd"  4 "Ex"  5}
   ;"BsmtExposure"  {"No"  0 "Mn"  1 "Av" 2 "Gd"  3}
   "BsmtFinType1"  {"No"  0 "Unf"  1 "LwQ" 2 "Rec"  3 "BLQ"  4
                     "ALQ"  5 "GLQ"  6}
   "BsmtFinType2"  {"No"  0 "Unf"  1 "LwQ" 2 "Rec"  3 "BLQ"  4
                     "ALQ"  5 "GLQ"  6}
   "BsmtQual"  {"No"  0 "Po"  1 "Fa"  2 "TA" 3 "Gd"  4 "Ex"  5}
   "ExterCond"  {"Po"  1 "Fa"  2 "TA" 3 "Gd" 4 "Ex"  5}
   "ExterQual"  {"Po"  1 "Fa"  2 "TA" 3 "Gd" 4 "Ex"  5}
   "FireplaceQu"  {"No"  0 "Po"  1 "Fa"  2 "TA"  3 "Gd"  4 "Ex"  5}
   "Functional"  {"Sal"  1 "Sev"  2 "Maj2"  3 "Maj1"  4 "Mod" 5
                   "Min2"  6 "Min1"  7 "Typ"  8}
   "GarageCond"  {"No"  0 "Po"  1 "Fa"  2 "TA"  3 "Gd"  4 "Ex"  5}
   "GarageQual"  {"No"  0 "Po"  1 "Fa"  2 "TA"  3 "Gd"  4 "Ex"  5}
   "HeatingQC"  {"Po"  1 "Fa"  2 "TA"  3 "Gd"  4 "Ex"  5}
   "KitchenQual"  {"Po"  1 "Fa"  2 "TA"  3 "Gd"  4 "Ex"  5}
   "LandSlope"  {"Sev"  1 "Mod"  2 "Gtl"  3}
   "LotShape"  {"IR3"  1 "IR2"  2 "IR1"  3 "Reg"  4}
   ;"PavedDrive"  {"N"  0 "P"  1 "Y"  2}
   "PoolQC"  {"No"  0 "Fa"  1 "TA"  2 "Gd"  3 "Ex"  4}
   "Street"  {"Grvl"  1 "Pave"  2}
   "Utilities"  {"ELO"  1 "NoSeWa"  2 "NoSewr"  3 "AllPub"  4}
   })


(defn str->number-pipeline
  [dataset]
  (->> str->number-initial-map
       (reduce (fn [dataset str-num-entry]
                 (apply dsp/string->number dataset str-num-entry))
        dataset)))

(def str-num-dataset (str->number-pipeline post-missing))

(ds/dataset-label-map str-num-dataset)
;; @@
;; =>
;;; ["^ ","~:type","~:list-like","~:open",["~:span",["^ ","~:class","clj-map"],"{"],"~:close",["^3",["^ ","^4","clj-map"],"}"],"~:separator",["^3",", "],"~:items",["~#list",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","~:html","~:content",["^3",["^ ","^4","clj-string"],"\"PoolQC\""],"~:value","\"PoolQC\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"No\""],"^;","\"No\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"0"],"^;","0"]]],"^;","[\"No\" 0]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Fa\""],"^;","\"Fa\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Fa\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"TA\""],"^;","\"TA\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"TA\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Gd\""],"^;","\"Gd\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"Gd\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Ex\""],"^;","\"Ex\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"Ex\" 4]"]]],"^;","{\"No\" 0, \"Fa\" 1, \"TA\" 2, \"Gd\" 3, \"Ex\" 4}"]]],"^;","[\"PoolQC\" {\"No\" 0, \"Fa\" 1, \"TA\" 2, \"Gd\" 3, \"Ex\" 4}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"BsmtCond\""],"^;","\"BsmtCond\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"No\""],"^;","\"No\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"0"],"^;","0"]]],"^;","[\"No\" 0]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Po\""],"^;","\"Po\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Po\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Fa\""],"^;","\"Fa\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Fa\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"TA\""],"^;","\"TA\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"TA\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Gd\""],"^;","\"Gd\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"Gd\" 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Ex\""],"^;","\"Ex\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[\"Ex\" 5]"]]],"^;","{\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}"]]],"^;","[\"BsmtCond\" {\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"GarageQual\""],"^;","\"GarageQual\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"No\""],"^;","\"No\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"0"],"^;","0"]]],"^;","[\"No\" 0]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Po\""],"^;","\"Po\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Po\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Fa\""],"^;","\"Fa\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Fa\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"TA\""],"^;","\"TA\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"TA\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Gd\""],"^;","\"Gd\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"Gd\" 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Ex\""],"^;","\"Ex\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[\"Ex\" 5]"]]],"^;","{\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}"]]],"^;","[\"GarageQual\" {\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Alley\""],"^;","\"Alley\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Grvl\""],"^;","\"Grvl\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Grvl\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Pave\""],"^;","\"Pave\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Pave\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"None\""],"^;","\"None\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"0"],"^;","0"]]],"^;","[\"None\" 0]"]]],"^;","{\"Grvl\" 1, \"Pave\" 2, \"None\" 0}"]]],"^;","[\"Alley\" {\"Grvl\" 1, \"Pave\" 2, \"None\" 0}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"LandSlope\""],"^;","\"LandSlope\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Sev\""],"^;","\"Sev\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Sev\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Mod\""],"^;","\"Mod\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Mod\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Gtl\""],"^;","\"Gtl\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"Gtl\" 3]"]]],"^;","{\"Sev\" 1, \"Mod\" 2, \"Gtl\" 3}"]]],"^;","[\"LandSlope\" {\"Sev\" 1, \"Mod\" 2, \"Gtl\" 3}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"BsmtFinType2\""],"^;","\"BsmtFinType2\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"No\""],"^;","\"No\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"0"],"^;","0"]]],"^;","[\"No\" 0]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Unf\""],"^;","\"Unf\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Unf\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"LwQ\""],"^;","\"LwQ\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"LwQ\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Rec\""],"^;","\"Rec\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"Rec\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"BLQ\""],"^;","\"BLQ\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"BLQ\" 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"ALQ\""],"^;","\"ALQ\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[\"ALQ\" 5]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"GLQ\""],"^;","\"GLQ\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"6"],"^;","6"]]],"^;","[\"GLQ\" 6]"]]],"^;","{\"No\" 0, \"Unf\" 1, \"LwQ\" 2, \"Rec\" 3, \"BLQ\" 4, \"ALQ\" 5, \"GLQ\" 6}"]]],"^;","[\"BsmtFinType2\" {\"No\" 0, \"Unf\" 1, \"LwQ\" 2, \"Rec\" 3, \"BLQ\" 4, \"ALQ\" 5, \"GLQ\" 6}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Street\""],"^;","\"Street\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Grvl\""],"^;","\"Grvl\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Grvl\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Pave\""],"^;","\"Pave\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Pave\" 2]"]]],"^;","{\"Grvl\" 1, \"Pave\" 2}"]]],"^;","[\"Street\" {\"Grvl\" 1, \"Pave\" 2}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"ExterQual\""],"^;","\"ExterQual\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Po\""],"^;","\"Po\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Po\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Fa\""],"^;","\"Fa\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Fa\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"TA\""],"^;","\"TA\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"TA\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Gd\""],"^;","\"Gd\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"Gd\" 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Ex\""],"^;","\"Ex\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[\"Ex\" 5]"]]],"^;","{\"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}"]]],"^;","[\"ExterQual\" {\"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"BsmtFinType1\""],"^;","\"BsmtFinType1\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"No\""],"^;","\"No\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"0"],"^;","0"]]],"^;","[\"No\" 0]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Unf\""],"^;","\"Unf\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Unf\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"LwQ\""],"^;","\"LwQ\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"LwQ\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Rec\""],"^;","\"Rec\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"Rec\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"BLQ\""],"^;","\"BLQ\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"BLQ\" 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"ALQ\""],"^;","\"ALQ\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[\"ALQ\" 5]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"GLQ\""],"^;","\"GLQ\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"6"],"^;","6"]]],"^;","[\"GLQ\" 6]"]]],"^;","{\"No\" 0, \"Unf\" 1, \"LwQ\" 2, \"Rec\" 3, \"BLQ\" 4, \"ALQ\" 5, \"GLQ\" 6}"]]],"^;","[\"BsmtFinType1\" {\"No\" 0, \"Unf\" 1, \"LwQ\" 2, \"Rec\" 3, \"BLQ\" 4, \"ALQ\" 5, \"GLQ\" 6}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FireplaceQu\""],"^;","\"FireplaceQu\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"No\""],"^;","\"No\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"0"],"^;","0"]]],"^;","[\"No\" 0]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Po\""],"^;","\"Po\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Po\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Fa\""],"^;","\"Fa\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Fa\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"TA\""],"^;","\"TA\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"TA\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Gd\""],"^;","\"Gd\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"Gd\" 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Ex\""],"^;","\"Ex\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[\"Ex\" 5]"]]],"^;","{\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}"]]],"^;","[\"FireplaceQu\" {\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"LotShape\""],"^;","\"LotShape\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"IR3\""],"^;","\"IR3\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"IR3\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"IR2\""],"^;","\"IR2\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"IR2\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"IR1\""],"^;","\"IR1\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"IR1\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Reg\""],"^;","\"Reg\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"Reg\" 4]"]]],"^;","{\"IR3\" 1, \"IR2\" 2, \"IR1\" 3, \"Reg\" 4}"]]],"^;","[\"LotShape\" {\"IR3\" 1, \"IR2\" 2, \"IR1\" 3, \"Reg\" 4}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"HeatingQC\""],"^;","\"HeatingQC\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Po\""],"^;","\"Po\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Po\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Fa\""],"^;","\"Fa\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Fa\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"TA\""],"^;","\"TA\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"TA\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Gd\""],"^;","\"Gd\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"Gd\" 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Ex\""],"^;","\"Ex\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[\"Ex\" 5]"]]],"^;","{\"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}"]]],"^;","[\"HeatingQC\" {\"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"KitchenQual\""],"^;","\"KitchenQual\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Po\""],"^;","\"Po\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Po\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Fa\""],"^;","\"Fa\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Fa\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"TA\""],"^;","\"TA\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"TA\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Gd\""],"^;","\"Gd\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"Gd\" 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Ex\""],"^;","\"Ex\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[\"Ex\" 5]"]]],"^;","{\"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}"]]],"^;","[\"KitchenQual\" {\"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"GarageCond\""],"^;","\"GarageCond\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"No\""],"^;","\"No\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"0"],"^;","0"]]],"^;","[\"No\" 0]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Po\""],"^;","\"Po\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Po\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Fa\""],"^;","\"Fa\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Fa\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"TA\""],"^;","\"TA\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"TA\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Gd\""],"^;","\"Gd\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"Gd\" 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Ex\""],"^;","\"Ex\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[\"Ex\" 5]"]]],"^;","{\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}"]]],"^;","[\"GarageCond\" {\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"BsmtQual\""],"^;","\"BsmtQual\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"No\""],"^;","\"No\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"0"],"^;","0"]]],"^;","[\"No\" 0]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Po\""],"^;","\"Po\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Po\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Fa\""],"^;","\"Fa\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Fa\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"TA\""],"^;","\"TA\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"TA\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Gd\""],"^;","\"Gd\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"Gd\" 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Ex\""],"^;","\"Ex\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[\"Ex\" 5]"]]],"^;","{\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}"]]],"^;","[\"BsmtQual\" {\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"ExterCond\""],"^;","\"ExterCond\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Po\""],"^;","\"Po\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Po\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Fa\""],"^;","\"Fa\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Fa\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"TA\""],"^;","\"TA\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"TA\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Gd\""],"^;","\"Gd\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"Gd\" 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Ex\""],"^;","\"Ex\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[\"Ex\" 5]"]]],"^;","{\"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}"]]],"^;","[\"ExterCond\" {\"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Utilities\""],"^;","\"Utilities\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"ELO\""],"^;","\"ELO\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"ELO\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"NoSeWa\""],"^;","\"NoSeWa\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"NoSeWa\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"NoSewr\""],"^;","\"NoSewr\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"NoSewr\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"AllPub\""],"^;","\"AllPub\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"AllPub\" 4]"]]],"^;","{\"ELO\" 1, \"NoSeWa\" 2, \"NoSewr\" 3, \"AllPub\" 4}"]]],"^;","[\"Utilities\" {\"ELO\" 1, \"NoSeWa\" 2, \"NoSewr\" 3, \"AllPub\" 4}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Functional\""],"^;","\"Functional\""],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Sal\""],"^;","\"Sal\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"]]],"^;","[\"Sal\" 1]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Sev\""],"^;","\"Sev\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[\"Sev\" 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Maj2\""],"^;","\"Maj2\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[\"Maj2\" 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Maj1\""],"^;","\"Maj1\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[\"Maj1\" 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Mod\""],"^;","\"Mod\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[\"Mod\" 5]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Min2\""],"^;","\"Min2\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"6"],"^;","6"]]],"^;","[\"Min2\" 6]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Min1\""],"^;","\"Min1\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"7"],"^;","7"]]],"^;","[\"Min1\" 7]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"Typ\""],"^;","\"Typ\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"8"],"^;","8"]]],"^;","[\"Typ\" 8]"]]],"^;","{\"Sal\" 1, \"Sev\" 2, \"Maj2\" 3, \"Maj1\" 4, \"Mod\" 5, \"Min2\" 6, \"Min1\" 7, \"Typ\" 8}"]]],"^;","[\"Functional\" {\"Sal\" 1, \"Sev\" 2, \"Maj2\" 3, \"Maj1\" 4, \"Mod\" 5, \"Min2\" 6, \"Min1\" 7, \"Typ\" 8}]"]]],"^;","{\"PoolQC\" {\"No\" 0, \"Fa\" 1, \"TA\" 2, \"Gd\" 3, \"Ex\" 4}, \"BsmtCond\" {\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}, \"GarageQual\" {\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}, \"Alley\" {\"Grvl\" 1, \"Pave\" 2, \"None\" 0}, \"LandSlope\" {\"Sev\" 1, \"Mod\" 2, \"Gtl\" 3}, \"BsmtFinType2\" {\"No\" 0, \"Unf\" 1, \"LwQ\" 2, \"Rec\" 3, \"BLQ\" 4, \"ALQ\" 5, \"GLQ\" 6}, \"Street\" {\"Grvl\" 1, \"Pave\" 2}, \"ExterQual\" {\"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}, \"BsmtFinType1\" {\"No\" 0, \"Unf\" 1, \"LwQ\" 2, \"Rec\" 3, \"BLQ\" 4, \"ALQ\" 5, \"GLQ\" 6}, \"FireplaceQu\" {\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}, \"LotShape\" {\"IR3\" 1, \"IR2\" 2, \"IR1\" 3, \"Reg\" 4}, \"HeatingQC\" {\"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}, \"KitchenQual\" {\"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}, \"GarageCond\" {\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}, \"BsmtQual\" {\"No\" 0, \"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}, \"ExterCond\" {\"Po\" 1, \"Fa\" 2, \"TA\" 3, \"Gd\" 4, \"Ex\" 5}, \"Utilities\" {\"ELO\" 1, \"NoSeWa\" 2, \"NoSewr\" 3, \"AllPub\" 4}, \"Functional\" {\"Sal\" 1, \"Sev\" 2, \"Maj2\" 3, \"Maj1\" 4, \"Mod\" 5, \"Min2\" 6, \"Min1\" 7, \"Typ\" 8}}"]
;; <=

;; **
;;; ## Replacing values
;;; 
;;; There is a numeric operator that allows you to map values from one value to another in a column.  We now use this to provide simplified versions of some of the columns.
;; **

;; @@ [clj]
(def replace-maps
  {
   ;; Create new features
   ;; 1* Simplifications of existing features
   ;; The author implicitly leaves values at zero to be zero, so these maps
   ;; are intentionally incomplete
   "SimplOverallQual" {"OverallQual" {1  1, 2  1, 3  1, ;; bad
                                     4  2, 5  2, 6  2, ;; average
                                     7  3, 8  3, 9  3, 10  3 ;; good
                                      }}
   "SimplOverallCond" {"OverallCond" {1  1, 2  1, 3  1,       ;; bad
                                      4  2, 5  2, 6  2,       ;; average
                                      7  3, 8  3, 9  3, 10  3 ;; good
                                      }}
   "SimplPoolQC" {"PoolQC" {1  1, 2  1,    ;; average
                            3  2, 4  2     ;; good
                            }}
   "SimplGarageCond" {"GarageCond" {1  1,             ;; bad
                                    2  1, 3  1,       ;; average
                                    4  2, 5  2        ;; good
                                    }}
   "SimplGarageQual" {"GarageQual" {1  1,             ;; bad
                                    2  1, 3  1,       ;; average
                                    4  2, 5  2        ;; good
                                    }}
   "SimplFireplaceQu"  {"FireplaceQu" {1  1,           ;; bad
                                        2  1, 3  1,     ;; average
                                        4  2, 5  2      ;; good
                                        }}
   "SimplFunctional"  {"Functional" {1  1, 2  1,           ;; bad
                                      3  2, 4  2,           ;; major
                                      5  3, 6  3, 7  3,     ;; minor
                                      8  4                  ;; typical
                                      }}
   "SimplKitchenQual" {"KitchenQual" {1  1,             ;; bad
                                      2  1, 3  1,       ;; average
                                      4  2, 5  2        ;; good
                                      }}
   "SimplHeatingQC"  {"HeatingQC" {1  1,           ;; bad
                                   2  1, 3  1,     ;; average
                                   4  2, 5  2      ;; good
                                    }}
   "SimplBsmtFinType1"  {"BsmtFinType1" {1  1,         ;; unfinished
                                         2  1, 3  1,   ;; rec room
                                         4  2, 5  2, 6  2 ;; living quarters
                                          }}
   "SimplBsmtFinType2" {"BsmtFinType2" {1 1,           ;; unfinished
                                        2 1, 3 1,      ;; rec room
                                        4 2, 5 2, 6 2  ;; living quarters
                                        }}
   "SimplBsmtCond" {"BsmtCond" {1 1,    ;; bad
                                2 1, 3 1, ;; average
                                4 2, 5 2  ;; good
                                }}
   "SimplBsmtQual" {"BsmtQual" {1 1,      ;; bad
                                2 1, 3 1, ;; average
                                4 2, 5 2  ;; good
                                }}
   "SimplExterCond" {"ExterCond" {1 1,      ;; bad
                                  2 1, 3 1, ;; average
                                  4 2, 5 2  ;; good
                                  }}
   "SimplExterQual" {"ExterQual" {1 1,      ;; bad
                                  2 1, 3 1, ;; average
                                  4 2, 5 2  ;; good
                                  }}})


(defn simplifications
  [dataset]
  (->> replace-maps
       (reduce (fn [dataset [target-name coldata-map]]
                 (let [[col-name replace-data] (first coldata-map)]
                   (dsp/m= dataset target-name
                           #(dsp/int-map replace-data (dsp/col col-name)
                                         :not-strict? true))))
               dataset)))

(def replace-dataset (simplifications str-num-dataset))

(pp/pprint (-> (ds/column str-num-dataset "KitchenQual")
                (ds-col/unique)))

(pp/pprint (-> (ds/column replace-dataset "SimplKitchenQual")
               (ds-col/unique)))
;; @@
;; ->
;;; #{2.0 4.0 5.0 3.0}
;;; #{2.0 1.0}
;; <-
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-nil"],"nil"],"~:value","nil"]
;; <=

;; **
;;; ## Linear Combinations
;;; 
;;; We create a set of simple linear combinations that derive from our semantic understanding of the dataset.
;; **

;; @@ [clj]
(defn linear-combinations
  [dataset]
  (-> dataset
      (dsp/m= "OverallGrade" #(dfn/* (col "OverallQual") (col "OverallCond")))
      ;; Overall quality of the garage
      (dsp/m= "GarageGrade" #(dfn/* (col "GarageQual") (col "GarageCond")))
      ;; Overall quality of the exterior
      (dsp/m= "ExterGrade"#(dfn/* (col "ExterQual") (col "ExterCond")))
      ;; Overall kitchen score
      (dsp/m= "KitchenScore" #(dfn/* (col "KitchenAbvGr") (col "KitchenQual")))
      ;; Overall fireplace score
      (dsp/m= "FireplaceScore" #(dfn/* (col "Fireplaces") (col "FireplaceQu")))
      ;; Overall garage score
      (dsp/m= "GarageScore" #(dfn/* (col "GarageArea") (col "GarageQual")))
      ;; Overall pool score
      (dsp/m= "PoolScore" #(dfn/* (col "PoolArea") (col "PoolQC")))
      ;; Simplified overall quality of the house
      (dsp/m= "SimplOverallGrade" #(dfn/* (col "SimplOverallQual")
                                          (col "SimplOverallCond")))
      ;; Simplified overall quality of the exterior
      (dsp/m= "SimplExterGrade" #(dfn/* (col "SimplExterQual") (col "SimplExterCond")))
      ;; Simplified overall pool score
      (dsp/m= "SimplPoolScore" #(dfn/* (col "PoolArea") (col "SimplPoolQC")))
      ;; Simplified overall garage score
      (dsp/m= "SimplGarageScore" #(dfn/* (col "GarageArea") (col "SimplGarageQual")))
      ;; Simplified overall fireplace score
      (dsp/m= "SimplFireplaceScore" #(dfn/* (col "Fireplaces") (col "SimplFireplaceQu")))
      ;; Simplified overall kitchen score
      (dsp/m= "SimplKitchenScore" #(dfn/* (col "KitchenAbvGr" )
                                          (col "SimplKitchenQual")))
      ;; Total number of bathrooms
      (dsp/m= "TotalBath" #(dfn/+ (col "BsmtFullBath") (dfn/* 0.5 (col "BsmtHalfBath"))
                                  (col "FullBath") (dfn/* 0.5 (col "HalfBath"))))
      ;; Total SF for house (incl. basement)
      (dsp/m= "AllSF"  #(dfn/+ (col "GrLivArea") (col "TotalBsmtSF")))
      ;; Total SF for 1st + 2nd floors
      (dsp/m= "AllFlrsSF" #(dfn/+ (col "1stFlrSF") (col "2ndFlrSF")))
      ;; Total SF for porch
      (dsp/m= "AllPorchSF" #(dfn/+ (col "OpenPorchSF") (col "EnclosedPorch")
                                   (col "3SsnPorch") (col "ScreenPorch")))
      ;; Encode MasVrnType
      (dsp/string->number "MasVnrType" ["None" "BrkCmn" "BrkFace" "CBlock" "Stone"])
      (dsp/m= "HasMasVnr" #(dfn/not-eq (col "MasVnrType") 0))))


(def linear-combined-ds (linear-combinations replace-dataset))



(let [print-columns ["TotalBath" "BsmtFullBath" "BsmtHalfBath"
                     "FullBath" "HalfBath"]]
  (println (ds/select linear-combined-ds print-columns (range 10))))

(let [print-columns ["AllSF" "GrLivArea" "TotalBsmtSF"]]
  (println (ds/select linear-combined-ds print-columns (range 10))))

;; @@
;; ->
;;; resources/ames/train.csv [10 5]:
;;; 
;;; | TotalBath | BsmtFullBath | BsmtHalfBath | FullBath | HalfBath |
;;; |-----------+--------------+--------------+----------+----------|
;;; |     3.500 |        1.000 |        0.000 |    2.000 |    1.000 |
;;; |     2.500 |        0.000 |        1.000 |    2.000 |    0.000 |
;;; |     3.500 |        1.000 |        0.000 |    2.000 |    1.000 |
;;; |     2.000 |        1.000 |        0.000 |    1.000 |    0.000 |
;;; |     3.500 |        1.000 |        0.000 |    2.000 |    1.000 |
;;; |     2.500 |        1.000 |        0.000 |    1.000 |    1.000 |
;;; |     3.000 |        1.000 |        0.000 |    2.000 |    0.000 |
;;; |     3.500 |        1.000 |        0.000 |    2.000 |    1.000 |
;;; |     2.000 |        0.000 |        0.000 |    2.000 |    0.000 |
;;; |     2.000 |        1.000 |        0.000 |    1.000 |    0.000 |
;;; 
;;; resources/ames/train.csv [10 3]:
;;; 
;;; | AllSF | GrLivArea | TotalBsmtSF |
;;; |-------+-----------+-------------|
;;; |  2566 |      1710 |       856.0 |
;;; |  2524 |      1262 |        1262 |
;;; |  2706 |      1786 |       920.0 |
;;; |  2473 |      1717 |       756.0 |
;;; |  3343 |      2198 |        1145 |
;;; |  2158 |      1362 |       796.0 |
;;; |  3380 |      1694 |        1686 |
;;; |  3197 |      2090 |        1107 |
;;; |  2726 |      1774 |       952.0 |
;;; |  2068 |      1077 |       991.0 |
;; <-
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-nil"],"nil"],"~:value","nil"]
;; <=

;; **
;;; ## Correlation Table
;;; Let's check the correlations between the various columns and the target column (SalePrice).  
;; **

;; @@ [clj]
(def article-correlations
  ;;Default for pandas is pearson.
  ;;  Find most important features relative to target
  (->> {"SalePrice"            1.000
   "OverallQual"          0.819
   "AllSF"                0.817
   "AllFlrsSF"            0.729
   "GrLivArea"            0.719
   "SimplOverallQual"     0.708
   "ExterQual"            0.681
   "GarageCars"           0.680
   "TotalBath"            0.673
   "KitchenQual"          0.667
   "GarageScore"          0.657
   "GarageArea"           0.655
   "TotalBsmtSF"          0.642
   "SimplExterQual"       0.636
   "SimplGarageScore"     0.631
   "BsmtQual"             0.615
   "1stFlrSF"             0.614
   "SimplKitchenQual"     0.610
   "OverallGrade"         0.604
   "SimplBsmtQual"        0.594
   "FullBath"             0.591
   "YearBuilt"            0.589
   "ExterGrade"           0.587
   "YearRemodAdd"         0.569
   "FireplaceQu"          0.547
   "GarageYrBlt"          0.544
   "TotRmsAbvGrd"         0.533
   "SimplOverallGrade"    0.527
   "SimplKitchenScore"    0.523
   "FireplaceScore"       0.518
   "SimplBsmtCond"        0.204
   "BedroomAbvGr"         0.204
   "AllPorchSF"           0.199
   "LotFrontage"          0.174
   "SimplFunctional"      0.137
   "Functional"           0.136
   "ScreenPorch"          0.124
   "SimplBsmtFinType2"    0.105
   "Street"               0.058
   "3SsnPorch"            0.056
   "ExterCond"            0.051
   "PoolArea"             0.041
   "SimplPoolScore"       0.040
   "SimplPoolQC"          0.040
   "PoolScore"            0.040
   "PoolQC"               0.038
   "BsmtFinType2"         0.016
   "Utilities"            0.013
   "BsmtFinSF2"           0.006
   "BsmtHalfBath"        -0.015
   "MiscVal"             -0.020
   "SimplOverallCond"    -0.028
   "YrSold"              -0.034
   "OverallCond"         -0.037
   "LowQualFinSF"        -0.038
   "LandSlope"           -0.040
   "SimplExterCond"      -0.042
   "KitchenAbvGr"        -0.148
   "EnclosedPorch"       -0.149
   "LotShape"            -0.286
   }
       (sort-by second >)
  ))

(def tech-ml-correlations 
  (get 
   (ds/correlation-table linear-combined-ds); :pearson)
   "SalePrice"))

(pp/print-table (map #(zipmap [:pandas :tech.ml.dataset]
                              [%1 %2])
                     (take 20 article-correlations)
                     (take 20 tech-ml-correlations)))
;; @@
;; ->
;;; WARNING - excluding columns with missing values:
;;;  [{:column-name Electrical, :missing-count 1}]
;;; WARNING - excluding non-numeric columns:
;;;  [MSZoning LandContour LotConfig Neighborhood Condition1 Condition2 BldgType HouseStyle RoofStyle RoofMatl Exterior1st Exterior2nd Foundation BsmtExposure Heating Electrical GarageType GarageFinish PavedDrive Fence MiscFeature SaleType SaleCondition HasMasVnr]
;;; 
;;; |                    :pandas |                        :tech.ml.dataset |
;;; |----------------------------+-----------------------------------------|
;;; |          ["SalePrice" 1.0] |                       ["SalePrice" 1.0] |
;;; |      ["OverallQual" 0.819] |       ["OverallQual" 0.819240311620789] |
;;; |            ["AllSF" 0.817] |            ["AllSF" 0.8172719096463545] |
;;; |        ["AllFlrsSF" 0.729] |        ["AllFlrsSF" 0.7294213272894039] |
;;; |        ["GrLivArea" 0.719] |        ["GrLivArea" 0.7188444008280218] |
;;; | ["SimplOverallQual" 0.708] |   ["SimplOverallQual" 0.70793366139543] |
;;; |        ["ExterQual" 0.681] |        ["ExterQual" 0.6809467113796699] |
;;; |        ["GarageCars" 0.68] |       ["GarageCars" 0.6804076538001473] |
;;; |        ["TotalBath" 0.673] |        ["TotalBath" 0.6729288592505422] |
;;; |      ["KitchenQual" 0.667] |      ["KitchenQual" 0.6671738265720056] |
;;; |      ["GarageScore" 0.657] |      ["GarageScore" 0.6568216258465022] |
;;; |       ["GarageArea" 0.655] |       ["GarageArea" 0.6552115300468117] |
;;; |      ["TotalBsmtSF" 0.642] |      ["TotalBsmtSF" 0.6415527990410921] |
;;; |   ["SimplExterQual" 0.636] |   ["SimplExterQual" 0.6355504445439201] |
;;; | ["SimplGarageScore" 0.631] | ["SimplGarageScore" 0.6308022446817723] |
;;; |         ["BsmtQual" 0.615] |         ["BsmtQual" 0.6152245192784745] |
;;; |         ["1stFlrSF" 0.614] |           ["1stFlrSF" 0.61374181150233] |
;;; |  ["SimplKitchenQual" 0.61] | ["SimplKitchenQual" 0.6101423001972696] |
;;; |     ["OverallGrade" 0.604] |     ["OverallGrade" 0.6042910598186415] |
;;; |    ["SimplBsmtQual" 0.594] |    ["SimplBsmtQual" 0.5936507179796586] |
;; <-
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-nil"],"nil"],"~:value","nil"]
;; <=

;; **
;;; ## Polynomial Combinations
;;; 
;;; We now extend the power of our linear models to be effectively polynomial models for a subset of the columns.  We do this using the correlation table to indicate which columns are worth it (the author used the top 10).
;; **

;; @@ [clj]
(defn polynomial-combinations
  [dataset correlation-table]
  (let [correlation-colnames (->> correlation-table
                                  (drop 1)
                                  (take 10)
                                  (map first))]
    (->> correlation-colnames
         (reduce (fn [dataset colname]
                   (-> dataset
                       (dsp/m= (str colname "-s2") #(dfn/pow (col colname) 2))
                       (dsp/m= (str colname "-s3") #(dfn/pow (col colname) 3))
                       (dsp/m= (str colname "-sqrt") #(dfn/sqrt (col colname)))))
                 dataset))))

(def poly-data (-> (polynomial-combinations linear-combined-ds tech-ml-correlations)
                   dsp/string->number))


(println (ds/select poly-data
                         ["OverallQual"
                          "OverallQual-s2"
                          "OverallQual-s3"
                          "OverallQual-sqrt"]
                         (range 10)))
;; @@
;; ->
;;; resources/ames/train.csv [10 4]:
;;; 
;;; | OverallQual | OverallQual-s2 | OverallQual-s3 | OverallQual-sqrt |
;;; |-------------+----------------+----------------+------------------|
;;; |       7.000 |          49.00 |          343.0 |            2.646 |
;;; |       6.000 |          36.00 |          216.0 |            2.449 |
;;; |       7.000 |          49.00 |          343.0 |            2.646 |
;;; |       7.000 |          49.00 |          343.0 |            2.646 |
;;; |       8.000 |          64.00 |          512.0 |            2.828 |
;;; |       5.000 |          25.00 |          125.0 |            2.236 |
;;; |       8.000 |          64.00 |          512.0 |            2.828 |
;;; |       7.000 |          49.00 |          343.0 |            2.646 |
;;; |       7.000 |          49.00 |          343.0 |            2.646 |
;;; |       5.000 |          25.00 |          125.0 |            2.236 |
;; <-
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-nil"],"nil"],"~:value","nil"]
;; <=

;; **
;;; ## Numeric Vs. Categorical
;;; 
;;; The article considers anything non-numeric to be categorical.  This is a point on which the tech.ml.dataset system differs.  For tech, any column can be considered categorical and the underlying datatype does not change this definition.  Earlier the article converted numeric columns to string to indicate they are categorical but we just set metadata.
;;; 
;;; This, and parsing difference between tablesaw and pandas, lead to different outcomes in the next section.
;; **

;; @@ [clj]
(def numerical-features (cf/numeric-and-non-categorical-and-not-target poly-data))
(def categorical-features (dsp/with-ds poly-data
                            (cf/and #(cf/not cf/target?)
                                    #(cf/not numerical-features))))


;(println "numeric-features" (count numerical-features))
;(println "categorical-features" (count categorical-features))
;(println "inference targets" (cf/target? poly-data))

;;I printed out the categorical features from the when using pandas.
#_(pp/pprint (->> (c-set/difference
                 (set ["MSSubClass", "MSZoning", "Alley", "LandContour", "LotConfig",
                       "Neighborhood", "Condition1", "Condition2", "BldgType",
                       "HouseStyle", "RoofStyle", "RoofMatl", "Exterior1st",
                       "Exterior2nd", "MasVnrType", "Foundation", "Heating",
                       "CentralAir",
                       "Electrical", "GarageType", "GarageFinish", "Fence",
                       "MiscFeature",
                       "MoSold", "SaleType", "SaleCondition"])
                  (set categorical-features))
                 (map (comp ds-col/metadata (partial ds/column poly-data)))))
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-var"],"#'user/numerical-features"],"~:value","#'user/numerical-features"]
;; <=

;; @@ [clj]
(defn fix-all-missing
  [dataset]
  (-> dataset
      ;;Fix any remaining numeric columns by using the median.
      (dsp/replace-missing cf/numeric? #(dfn/median (col)))
      ;;Fix any string columns by using 'NA'.
      (dsp/replace-missing cf/string? "NA")
      (dsp/string->number)))


(def missing-fixed (fix-all-missing poly-data))

(pp/pprint (ds/columns-with-missing-seq missing-fixed))
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-var"],"#'user/fix-all-missing"],"~:value","#'user/fix-all-missing"]
;; <=

;; **
;;; ## Training And Viewing Results
;;; 
;;; Let's setup a simple gridsearch and few the errors and residuals.
;; **

;; @@ [clj]
#_(defn render-results
  [title gridsearch-results]
  [:div
   [:h3 title]
   (vega-viz/accuracy-graph gridsearch-results :y-scale [0.10, 0.20])])


(defn train-regressors
  [dataset-name dataset loss-fn & [options]]
  (let [base-gridsearch-systems [:smile.regression/lasso
                                 :xgboost/regression
                                 :smile.regression/ridge]
        trained-results (ml-regression/train-regressors
                         dataset options
                         :loss-fn loss-fn
                         :gridsearch-regression-systems base-gridsearch-systems)]
    (println "Got" (count trained-results) "Trained results")
    (vec trained-results)))


(defn train-graph-regressors
  [dataset-name dataset loss-fn & [options]]
  (let [trained-results (train-regressors dataset-name dataset loss-fn options)]
    (->> (apply concat [(render-results dataset-name trained-results)]
                (->> trained-results
                     (sort-by :average-loss)
                     (map (fn [model-result]
                            [[:div
                              [:h3 (format "%s-%.4f"
                                           (get-in model-result [:options :model-type])
                                           (:average-loss model-result))]
                              [:div
                               [:span
                                [:h4 "Predictions"]
                                (vega-viz/graph-regression-verification-results
                                 model-result :target-key :predictions
                                 :y-scale [10 14]
                                 :x-scale [10 14])]
                               [:span
                                [:h4 "Residuals"]
                                (vega-viz/graph-regression-verification-results
                                 model-result :target-key :residuals
                                 :y-scale [10 14]
                                 :x-scale [-1 1])]]]]))))
         (into [:div]))))

;(oz/view! (train-graph-regressors "Missing Fixed" missing-fixed loss/rmse))
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-var"],"#'user/train-regressors"],"~:value","#'user/train-regressors"]
;; <=

;; **
;;; ## Skew
;;; 
;;; Here is where things go a bit awry.  We attempt to fix skew.  The attempted fix barely reduces the actual skew in the dataset.  We will talk about what went wrong.  We also begin running models on the stages to see what the effect of some of these things are.
;;; 
;;; We start setting the target in the options for the pipeline.  This allows the rest of the system downstream (training) to automatically infer the feature columns.
;; **

;; @@ [clj]
(defn skew-column-filter
  [& [dataset]]
  (dsp/with-ds (cf/check-dataset dataset)
    (cf/and cf/numeric?
            #(cf/not "SalePrice")
            #(cf/not cf/categorical?)
            (fn []
              (cf/> #(dfn/abs (dfn/skewness (col)))
                    0.5)))))

#_(def skew-fixed (-> (dsp/m= missing-fixed
                            skew-column-filter
                            #(dfn/log1p (col)))))

;(println "Pre-fix skew counts" (count (skew-column-filter missing-fixed)))
;(println "Post-fix skew counts" (count (skew-column-filter skew-fixed)))
;; @@

;; **
;;; That didn't work.  Or at least it barely did.  What happened??
;; **

;; @@ [clj]
;; I apologize for the formatting.  This is a poor replacement for emacs with paredit
(let [before-columns (set (skew-column-filter missing-fixed))
      after-columns (set (skew-column-filter skew-fixed))
      check-columns (c-set/intersection before-columns after-columns)]
               (->> check-columns
                    (map (fn [colname]
                           (let [{before-min :min
                                  before-max :max
                                  before-mean :mean
                                  before-skew :skew} 
                                  (-> (ds/column missing-fixed colname)
                                      (ds-col/stats [:min :max :mean :skew]))
                                 {after-min :min
                                  after-max :max
                                  after-mean :mean
                                  after-skew :skew} 
                                  (-> (ds/column skew-fixed colname)
                                      (ds-col/stats [:min :max :mean :skew]))]
                             {:column-name colname
                              :before-skew before-skew
                              :after-skew after-skew
                              :before-mean before-mean
                              :after-mean after-mean})))
                    (print-table [:column-name 
                                  :before-skew :after-skew
                                  :before-mean :after-mean])))
;; @@

;; **
;;; Maybe you can see the issue now.  For positive skew and  and small means, the log1p fix has very little effect.  For very large numbers, it may skew the result all the way to be negative.  And then for negative skew, it makes it worse.
;;; 
;;; No easy fixes here today, but a combined method attempting several versions of the skew fix and including the best one could eventually figure it all out in an automated way.
;;; 
;;; In any case, let's see some actual results:
;; **

;; @@ [clj]
(oz/view! (train-graph-regressors "Skew Fixed" skew-fixed loss/rmse))
;; @@

;; **
;;; ## std-scaler
;;; 
;;; There are two scale methods so far in the tech.ml.dataset system.  
;;; 
;;; * **range-scaler** - scale column such that min/max equal a range min/max.  Range defaults to [-1 1].
;;; * **std-scaler** - scale column such that mean = 0 and variance,stddev = 1.
;; **

;; @@ [clj]
(def poly-std-scale-ds (dsp/std-scale missing-fixed))

(def std-scale-ds (dsp/std-scale skew-fixed))



(println "Before std-scaler")

(->> (ds/select skew-fixed (take 10 numerical-features) :all)
                      (ds/columns)
                      (map (fn [col]
                             (merge (ds-col/stats col [:mean :variance])
                                    {:column-name (ds-col/column-name col)})))
                      (print-table [:column-name :mean :variance]))

(println "\n\nAfter std-scaler")

(->> (ds/select std-scale-ds (take 10 numerical-features) :all)
     (ds/columns)
     (map (fn [col]
            (merge (ds-col/stats col [:mean :variance])
                   {:column-name  (ds-col/column-name col)})))
     (pp/print-table [:column-name :mean :variance]))
;; @@
;; ->
;;; Before std-scaler
;;; 
;;; 
;;; After std-scaler
;; <-
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-nil"],"nil"],"~:value","nil"]
;; <=

;; **
;;; ## Final Models
;;; 
;;; We now train our prepared data across a range of models.
;; **

;; @@ [clj]
(oz/view! [:div (train-graph-regressors "Final Result-No Skew Fix" poly-std-scale-ds loss/rmse)
                (train-graph-regressors "Final Result-Skew Fix" skew-fixed loss/rmse)])
;; @@

;; **
;;; ## Going To Production
;;; 
;;; You won't see this ever talked about in notebooks and that is unfair to the rest of the organization but you have to take everything above and go to production with it at some point.
;;; 
;;; Without getting into too much detail, we show how to build a production pipeline using the tech system.  In essence, you can capture context during the training dataset processing and then use this context to make building the inference
;;; pipeline just a bit easier.
;;; 
;;; There is quite a bit of ephemeral data used during the above dataset processing.  Sometimes we do a string->number 
;;; conversion and we don't specify precisely how to map the values.  We had std-scaler which recorded means and variances for all of the systems.  We had a correlation table that we referenced to build out column augmentations.
;;; 
;;; We can't make going to production automatic, but we can do at least a bit in this area.
;; **

;; @@ [clj]
(defn data-pipeline
  "Now you have a model and you want to go to production."
  [dataset training?]
  (let [sale-price-col (when training?
                         (dsp/without-recording
                          (-> dataset
                              ;;Sale price is originally an integer
                              (dsp/m= "SalePrice" #(-> (dsp/col)
                                                       (dtype/->reader :float64)
                                                       dfn/log1p))
                              (ds/column "SalePrice"))))

        dataset (if training?
                  (ds/remove-columns dataset ["SalePrice"])
                  dataset)
        dataset
        (-> dataset
            (dsp/remove-columns ["Id"])
            (dsp/->datatype)
            more-categorical
            initial-missing-entries
            str->number-pipeline
            simplifications
            linear-combinations
            (dsp/store-variables #(hash-map :correlation-table
                                            (-> (ds/add-column % sale-price-col)
                                                (ds/correlation-table :pearson)
                                                (get "SalePrice"))))
            (polynomial-combinations (dsp/read-var :correlation-table))
            fix-all-missing
            dsp/std-scale)]
    (if training?
      (-> (ds/add-column dataset sale-price-col)
          (ds/set-inference-target "SalePrice"))
      dataset)))



(def inference-pipeline-data (dsp/pipeline-train-context
                              (data-pipeline src-dataset true)))

(def pipeline-train-dataset (:dataset inference-pipeline-data))


(def inference-pipeline-context (:context inference-pipeline-data))


;;At inference time we wouldn't have the saleprice column
(def test-inference-src-dataset (dsp/remove-columns src-dataset ["SalePrice"]))


;;Now we can build the same dataset easily using context built during
;;the training system.  This means any string tables generated or any range
;;k-means, stdscale, etc are all in the context.
(def pipeline-inference-dataset (:dataset
                                (dsp/pipeline-inference-context
                                 inference-pipeline-context
                                 (data-pipeline test-inference-src-dataset false))))


(println (ds/select pipeline-train-dataset ["OverallQual"
                                                "OverallQual-s2"
                                                "OverallQual-s3"
                                                "OverallQual-sqrt"]
                    (range 10)))


(println (ds/select pipeline-inference-dataset ["OverallQual"
                                       "OverallQual-s2"
                                       "OverallQual-s3"
                                       "OverallQual-sqrt"]
                    (range 10)))

;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-var"],"#'user/test-inference-src-dataset"],"~:value","#'user/test-inference-src-dataset"]
;; <=
